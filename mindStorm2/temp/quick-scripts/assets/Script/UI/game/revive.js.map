{"version":3,"sources":["revive.ts"],"names":[],"mappings":";;;;;AACA,gDAA2C;AAC3C,0DAAqD;AACrD,oDAA+C;AACzC,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAE1C;IAAsC,4BAAY;IADlD;QAAA,qEA8DC;QA3DW,aAAO,GAAC,IAAI,CAAC;QACb,eAAS,GAAC,EAAE,CAAC;;IA0DzB,CAAC;IAxDG,yBAAM,GAAN;QACI,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAA;IACpD,CAAC;IAED,6BAAU,GAAV;QACI,IAAI,CAAC,IAAI,CAAC,KAAK,GAAC,GAAG,CAAC;QACpB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAC3B,EAAE,CAAC,OAAO,CAAC,IAAI,EAAC,GAAG,CAAC,EACpB,EAAE,CAAC,OAAO,CAAC,GAAG,EAAC,GAAG,CAAC,CACtB,CAAC,CAAA;IACN,CAAC;IAED,2BAAQ,GAAR;QACI,IAAI,SAAS,GAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;QACpD,IAAI,UAAU,GAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;QAEtD,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;QAC9B,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;IACnC,CAAC;IAED,gCAAa,GAAb,UAAc,GAAG;QACb,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAC,UAAS,CAAC;YACzC,IAAI,OAAO,GAAC,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;YAC/B,sBAAY,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC;YACtD,IAAG,OAAO,IAAE,WAAW,EAAC;gBACpB,IAAI,CAAC,KAAK,EAAE,CAAC;aAChB;iBAAK,IAAG,OAAO,IAAE,YAAY,EAAC;gBAE3B,eAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;aACzB;QACL,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;IACjB,CAAC;IAGD,yBAAM,GAAN,UAAO,EAAE;QACL,IAAG,IAAI,CAAC,SAAS,IAAE,CAAC,EAAC;YACjB,IAAI,CAAC,SAAS,IAAE,EAAE,CAAC;YACnB,IAAI,IAAI,GAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACnC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAC,IAAI,CAAC;YAEhD,IAAG,IAAI,IAAE,CAAC,EAAC;gBACP,IAAI,CAAC,KAAK,EAAE,CAAC;aAChB;SACJ;IACL,CAAC;IAED,wBAAK,GAAL;QACI,iBAAO,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,YAAY,EAAC,IAAI,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAC3B,EAAE,CAAC,OAAO,CAAC,IAAI,EAAC,GAAG,CAAC,EACpB,EAAE,CAAC,QAAQ,CAAC;YACR,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAChB,CAAC,CAAA;IACN,CAAC;IA5DgB,QAAQ;QAD5B,OAAO;OACa,QAAQ,CA6D5B;IAAD,eAAC;CA7DD,AA6DC,CA7DqC,EAAE,CAAC,SAAS,GA6DjD;kBA7DoB,QAAQ","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\UI\\game","sourcesContent":["import { UILoader } from \"../../Common/UILoader\";\r\nimport WXCtr from \"../../Controller/WXCtr\";\r\nimport AudioManager from \"../../Common/AudioManager\";\r\nimport GameCtr from \"../../Controller/GameCtr\";\r\nconst {ccclass, property} = cc._decorator;\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n\r\n    private lb_time=null;\r\n    private timeCount=10;\r\n\r\n    onLoad () {\r\n        this.initBtns();\r\n        this.lb_time=this.node.getChildByName(\"lb_time\")\r\n    }\r\n\r\n    openAction(){\r\n        this.node.scale=0.2;\r\n        this.node.runAction(cc.sequence(\r\n            cc.scaleTo(0.15,1.1),\r\n            cc.scaleTo(0.1,1.0),\r\n        ))\r\n    }\r\n\r\n    initBtns(){\r\n        let btn_close=this.node.getChildByName(\"btn_close\");\r\n        let btn_revive=this.node.getChildByName(\"btn_revive\");\r\n\r\n        this.initBtnListen(btn_close);\r\n        this.initBtnListen(btn_revive);\r\n    }\r\n\r\n    initBtnListen(btn){\r\n        btn.on(cc.Node.EventType.TOUCH_END,function(e){\r\n            let btnName=e.target.getName();\r\n            AudioManager.getInstance().playSound(\"audio/btnCick\");\r\n            if(btnName==\"btn_close\"){\r\n                this.close();\r\n            }else if(btnName==\"btn_revive\"){\r\n               \r\n                WXCtr.share(\"revive\");\r\n            }\r\n        }.bind(this))\r\n    }\r\n\r\n\r\n    update(dt){\r\n        if(this.timeCount>=0){\r\n            this.timeCount-=dt;\r\n            let time=Math.ceil(this.timeCount);\r\n            this.lb_time.getComponent(cc.Label).string=time;\r\n\r\n            if(time==0){\r\n                this.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    close(){\r\n        GameCtr.getInstance().emitEvent(\"choiceGame\",null);\r\n        this.node.runAction(cc.sequence(\r\n            cc.scaleTo(0.15,0.2),\r\n            cc.callFunc(function(){\r\n                this.node.destroy();\r\n            }.bind(this))\r\n        ))\r\n    }\r\n}\r\n"]}