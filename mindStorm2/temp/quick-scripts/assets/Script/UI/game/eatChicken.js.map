{"version":3,"sources":["eatChicken.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\UI\\game","sourcesContent":["import GameCtr from \"../../Controller/GameCtr\";\r\nimport AudioManager from \"../../Common/AudioManager\";\r\nimport ViewManager from \"../../Common/ViewManager\";\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n\r\n    @property(cc.Prefab)\r\n    morePower:cc.Prefab\r\n\r\n    onLoad(){\r\n        let light=this.node.getChildByName(\"light\");\r\n        let selfInfo=GameCtr.getInstance().getSelfInfoFromLocal();\r\n        let headImg=this.node.getChildByName(\"mask\").getChildByName(\"headImg\");\r\n\r\n        let btn_back=this.node.getChildByName(\"frame\").getChildByName(\"btn_back\");\r\n        let btn_continue=this.node.getChildByName(\"frame\").getChildByName(\"btn_continue\");\r\n\r\n        light.runAction(cc.repeatForever(cc.rotateBy(0.5,30)));\r\n        this.loadHeadImg(headImg,selfInfo.avatarUrl);\r\n\r\n        btn_back.on(cc.Node.EventType.TOUCH_END,function(e){\r\n            AudioManager.getInstance().playSound(\"audio/btnCick\");\r\n            cc.director.loadScene(\"Start\");\r\n        })\r\n\r\n        btn_continue.on(cc.Node.EventType.TOUCH_END,function(e){\r\n            AudioManager.getInstance().playSound(\"audio/btnCick\");\r\n            if(GameCtr.powerValue>0){\r\n                GameCtr.powerValue--;\r\n                GameCtr.getInstance().emitEvent(\"restartGame\",null);\r\n                this.node.destroy();\r\n            }else{\r\n                if(!GameCtr.isAudited){\r\n                    ViewManager.toast(\"没有体力值\");\r\n                    return\r\n                }\r\n                if(this.node.parent.getChildByName(\"morePower\")){return}\r\n                let morePowerNode=cc.instantiate(this.morePower);\r\n                morePowerNode.parent=this.node.parent;\r\n                morePowerNode.setLocalZOrder(80);\r\n            }\r\n        }.bind(this))\r\n    }\r\n\r\n    loadHeadImg(headNode:cc.Node,headUrl:string){\r\n        if(headUrl==undefined|| headUrl==\"\"){return}\r\n        let sp=headNode.getComponent(cc.Sprite);\r\n        cc.loader.load({\r\n            url: headUrl,\r\n            type: 'png'\r\n        }, (err, texture) => {\r\n            sp.spriteFrame = new cc.SpriteFrame(texture);\r\n        });\r\n    }\r\n}\r\n"]}