{"version":3,"sources":["morePower.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\UI\\game","sourcesContent":["import AudioManager from \"../../Common/AudioManager\";\r\nimport WXCtr from \"../../Controller/WXCtr\";\r\nimport GameCtr from \"../../Controller/GameCtr\";\r\nimport ViewManager from \"../../Common/ViewManager\";\r\nconst {ccclass, property} = cc._decorator;\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n\r\n    onLoad () {\r\n        this.initBtns();\r\n        this.initEvent();\r\n        this.showPower();\r\n        this.openAction();\r\n    }\r\n\r\n    openAction(){\r\n        this.node.scale=0.2;\r\n        this.node.runAction(cc.sequence(\r\n            cc.scaleTo(0.15,1.1),\r\n            cc.scaleTo(0.1,1.0),\r\n        ))\r\n    }\r\n\r\n    initBtns(){\r\n        let btn_close=this.node.getChildByName(\"btn_close\");\r\n        let btn_morePower=this.node.getChildByName(\"btn_morePower\");\r\n\r\n        this.initBtnListen(btn_close);\r\n        this.initBtnListen(btn_morePower);\r\n    }\r\n\r\n    initBtnListen(btn){\r\n        btn.on(cc.Node.EventType.TOUCH_END,function(e){\r\n            AudioManager.getInstance().playSound(\"audio/btnCick\");\r\n            let btnName=e.target.getName();\r\n            if(btnName==\"btn_close\"){\r\n                this.close();\r\n            }else if(btnName==\"btn_morePower\"){\r\n                if(GameCtr.powerValue==10){\r\n                    ViewManager.toast(\"体力值已满\");\r\n                    return\r\n                }\r\n                WXCtr.share(\"morePower\")\r\n            }\r\n        }.bind(this))\r\n    }\r\n\r\n    initEvent(){\r\n        GameCtr.getInstance().addListener(\"morePowerSuccess\",this.onMorePower.bind(this))\r\n    }\r\n\r\n    showPower(){\r\n        let lb_powerValue=this.node.getChildByName(\"lb_power\");\r\n        lb_powerValue.getComponent(cc.Label).string=GameCtr.powerValue+\"/10\";\r\n    }\r\n\r\n    onMorePower(){\r\n        this.close();\r\n    }\r\n\r\n    close(){\r\n        GameCtr.getInstance().removeListener(\"morePowerSuccess\");\r\n        let mask=this.node.getChildByName(\"mask\");\r\n        mask.setContentSize(cc.size(1080,2436));\r\n        mask.runAction(cc.fadeOut(0.15));\r\n        this.node.runAction(cc.sequence(\r\n            cc.scaleTo(0.15,0.2),\r\n            cc.callFunc(function(){\r\n                this.node.destroy();\r\n            }.bind(this))\r\n        ))\r\n    }\r\n}\r\n"]}