{"version":3,"sources":["UILoader.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB,OAAO;IACvB,IAAI,OAAO,CAAC,MAAM,IAAI,IAAI,EAAE;QACxB,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;KACtB;AACL,CAAC;AAED,oBAAoB,OAAO;IACvB,IAAI,OAAO,EAAE;QACT,OAAO,IAAI,CAAC;KACf;IACD,OAAO,KAAK,CAAC;AACjB,CAAC;AAED,yBAAyB,OAAO;IAC5B,IAAI,OAAO,EAAE;QACT,IAAI,OAAO,CAAC,MAAM,IAAI,SAAS,IAAI,OAAO,CAAC,MAAM,IAAI,IAAI,EAAE;YACvD,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;YACnB,OAAO,KAAK,CAAC;SAChB;aAAM;YACH,OAAO,IAAI,CAAC;SACf;KACJ;IACD,OAAO,KAAK,CAAC;AACjB,CAAC;AAED,sBAAsB,IAAI,EAAE,MAAM;IAC9B,qCAAqC;IACrC,sCAAsC;IACtC,IAAI;IAEJ,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;IAC9B,QAAQ,CAAC,OAAO,CAAC,UAAC,KAAK;QACnB,gBAAgB,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QAChC,YAAY,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;IAChC,CAAC,CAAC,CAAC;AACP,CAAC;AAED,0BAA0B,IAAI,EAAE,MAAM;IAClC,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;IAC1C,IAAI,MAAM,IAAI,MAAM,CAAC,WAAW,EAAE;QAC9B,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,CAAC;QACrE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC;KAC7E;IAED,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;IAC1C,IAAI,MAAM,EAAE;QACR,IAAI,MAAM,CAAC,YAAY,EAAE;YACrB,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC,CAAC;YACtE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC;SAC9E;QAED,IAAI,MAAM,CAAC,aAAa,EAAE;YACtB,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC,CAAC;YACvE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC;SAC/E;QAED,IAAI,MAAM,CAAC,WAAW,EAAE;YACpB,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,CAAC;YACrE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC;SAC7E;QAED,IAAI,MAAM,CAAC,cAAc,EAAE;YACvB,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,CAAC;YACxE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC;SAChF;KACJ;IAED,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;IACxC,IAAI,KAAK,IAAI,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,YAAY,EAAE,CAAC,UAAU,IAAI,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE;QACtF,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,CAAC;QACzE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC;KACjF;IAED,IAAI,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;IAC9C,IAAI,QAAQ,IAAI,QAAQ,CAAC,UAAU,EAAE;QACjC,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;QAC1D,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YACjB,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;YAC7F,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC;SACrG;KACJ;IAED,IAAI,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC;IAC1D,IAAI,cAAc,IAAI,cAAc,CAAC,QAAQ,EAAE;QAC3C,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC;QACzD,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC;KACjE;IAED,IAAI,iBAAiB,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,iBAAiB,CAAC,CAAC;IAChE,IAAI,iBAAiB,IAAI,iBAAiB,CAAC,WAAW,EAAE;QACpD,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iBAAiB,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,CAAC;QAChF,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iBAAiB,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC;KACxF;IAED,IAAI,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;IAC5C,IAAI,OAAO,IAAI,OAAO,CAAC,eAAe,EAAE;QACpC,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC,CAAC;QAC1E,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC;KAClF;IAED,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;IACtC,IAAI,IAAI,IAAI,IAAI,CAAC,WAAW,EAAE;QAC1B,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,CAAC;QACnE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC;KAC3E;AACL,CAAC;AAED,wBAAwB,IAAI,EAAE,GAAG;IAC7B,IAAI,IAAI,YAAY,EAAE,CAAC,SAAS,EAAE;QAC9B,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;QAC9C,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC;KAC9C;SAAM,IAAI,IAAI,YAAY,EAAE,CAAC,WAAW,EAAE;QACvC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;QAC9D,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC;KAC9D;SAAM,IAAI,IAAI,YAAY,EAAE,CAAC,MAAM,EAAE;QAClC,iBAAiB,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;KAChC;SAAM,IAAI,IAAI,YAAY,EAAE,CAAC,UAAU,EAAE;QACtC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,gBAAgB,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;QAC1E,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,gBAAgB,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC;KAC1E;SAAM,IAAI,IAAI,YAAY,EAAE,CAAC,WAAW,EAAE;QACvC,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAA;QAC7C,IAAI,CAAC,OAAO,CAAC,UAAC,GAAG;YACb,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC,gBAAgB,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;YACjF,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC,gBAAgB,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QAClF,CAAC,CAAC,CAAC;KACN;SAAM,IAAI,IAAI,YAAY,EAAE,CAAC,aAAa,EAAE;QACzC,EAAE,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;KACpC;SAAM,IAAI,IAAI,YAAY,MAAM,IAAI,IAAI,CAAC,IAAI,EAAE;QAC5C,EAAE,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;KAC7B;AACL,CAAC;AAED,2BAA2B,IAAI,EAAE,GAAG;IAChC,IAAI,MAAM,GAAG,IAAI,CAAC;IAClB,IAAI,IAAI,CAAC,IAAI,EAAE;QACX,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC;KACtB;IAED,IAAI,CAAC,CAAC,MAAM,YAAY,EAAE,CAAC,KAAK,CAAC,EAAE;QAC/B,eAAe,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;KAChC;IACD,IAAI,QAAQ,GAAG,MAAM,CAAC,SAAS,CAAC;IAChC,QAAQ,CAAC,OAAO,CAAC,UAAC,KAAK;QACnB,eAAe,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAC5B,iBAAiB,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;IAClC,CAAC,CAAC,CAAC;AACP,CAAC;AAED,yBAAyB,IAAI,EAAE,GAAG;IAC9B,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;IAC1C,IAAI,MAAM,IAAI,MAAM,CAAC,WAAW,EAAE;QAC9B,IAAI,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,EAAE;YACtE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;YACzE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC;SACzE;KACJ;IAED,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;IAC1C,IAAI,MAAM,EAAE;QACR,IAAI,MAAM,CAAC,YAAY,EAAE;YACrB,IAAI,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC,EAAE;gBACvE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAC1E,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC;aAC1E;SACJ;QAED,IAAI,MAAM,CAAC,aAAa,EAAE;YACtB,IAAI,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC,EAAE;gBACxE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAC3E,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC;aAC3E;SACJ;QAED,IAAI,MAAM,CAAC,WAAW,EAAE;YACpB,IAAI,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,EAAE;gBACtE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACzE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC;aACzE;SACJ;QAED,IAAI,MAAM,CAAC,cAAc,EAAE;YACvB,IAAI,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,EAAE;gBACzE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAC5E,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC;aAC5E;SACJ;KACJ;IAED,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;IACxC,IAAI,KAAK,IAAI,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,YAAY,EAAE,CAAC,UAAU,IAAI,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE;QACtF,IAAI,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,EAAE;YAC1E,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;YAC7E,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC;SAC7E;KACJ;IAED,IAAI,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;IAC9C,IAAI,QAAQ,IAAI,QAAQ,CAAC,UAAU,EAAE;QACjC,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;QAC1D,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YACjB,IAAI,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,EAAE;gBAC9F,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACjG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC;aACjG;SACJ;KACJ;IAED,IAAI,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC;IAC1D,IAAI,cAAc,IAAI,cAAc,CAAC,QAAQ,EAAE;QAC3C,IAAI,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,EAAE;YAC1D,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;YAC7D,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC;SAC7D;KACJ;IAED,IAAI,iBAAiB,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,iBAAiB,CAAC,CAAC;IAChE,IAAI,iBAAiB,IAAI,iBAAiB,CAAC,WAAW,EAAE;QACpD,IAAI,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iBAAiB,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,EAAE;YACjF,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iBAAiB,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;YACpF,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iBAAiB,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC;SACpF;KACJ;IAED,IAAI,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;IAC5C,IAAI,OAAO,IAAI,OAAO,CAAC,eAAe,EAAE;QACpC,IAAI,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC,EAAE;YAC3E,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;YAC9E,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC;SAC9E;KACJ;IAED,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;IACtC,IAAI,IAAI,IAAI,IAAI,CAAC,WAAW,EAAE;QAC1B,IAAI,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,EAAE;YACpE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC;YACpE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;SAC1E;KACJ;AACL,CAAC;AAGD,sBAAsB,GAAG;IACrB,IAAI,CAAC,CAAC;IACN,IAAI,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;IACrC,KAAK,CAAC,IAAI,GAAG,EAAE;QACX,IAAI,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE;YACvB,CAAC,CAAC,CAAC,CAAC,GAAG,OAAO,GAAG,CAAC,CAAC,CAAC,KAAK,QAAQ,CAAC,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;SACrE;KACJ;IACD,OAAO,CAAC,CAAC;AACb,CAAC;AAED;IAEI,IAAI,YAAY,GAAG,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,cAAc,CAAC,CAAC;IAE1D,IAAI,eAAe,GAAG,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;IAExD,IAAI,WAAW,GAAG,EAAE,CAAC;IAErB,KAAK,IAAI,KAAK,IAAI,eAAe,EAAE;QAE/B,IAAI,eAAe,CAAC,KAAK,CAAC,CAAC,QAAQ,EAAE;YACjC,SAAS;SACZ;QAED,4CAA4C;QAC5C,gBAAgB;QAChB,IAAI;QAEJ,IAAI,eAAe,CAAC,KAAK,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;YACpC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;YAC7C,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;SACjD;KACJ;IAED,IAAI,YAAY,GAAG,EAAE,CAAC;IACtB,KAAK,IAAI,KAAK,IAAI,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;QACnC,IAAI,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,IAAI,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3F,IAAI,UAAU,GAAG,KAAK,CAAC;YACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACnE,IAAI,WAAW,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;oBACtE,UAAU,GAAG,IAAI,CAAC;iBAErB;aACJ;YAED,IAAI,UAAU,EAAE;gBACZ,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;gBAClD,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;aACrD;SACJ;KACJ;IAED,KAAK,IAAI,KAAK,IAAI,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;QACnC,IAAI,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,IAAI,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3F,IAAI,UAAU,GAAG,KAAK,CAAC;YACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACnE,IAAI,YAAY,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;oBACvE,UAAU,GAAG,IAAI,CAAC;iBAErB;aACJ;YAED,IAAI,UAAU,EAAE;gBACZ,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;aACrD;SACJ;KACJ;IACD,WAAW,GAAG,EAAE,CAAC;AACrB,CAAC;AAED,0BAA0B,GAAG;IAEzB,IAAI,YAAY,GAAG,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,cAAc,CAAC,CAAC;IAE1D,IAAI,eAAe,GAAG,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;IAExD,IAAI,WAAW,GAAG,EAAE,CAAC;IAErB,KAAK,IAAI,KAAK,IAAI,eAAe,EAAE;QAC/B,IAAI,GAAG,EAAE;YACL,IAAI,eAAe,CAAC,KAAK,CAAC,CAAC,MAAM,IAAI,GAAG,EAAE;gBACtC,SAAS;aACZ;SACJ;QAED,IAAI,eAAe,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,eAAe,CAAC,KAAK,CAAC,CAAC,QAAQ,EAAE;YACtE,EAAE,CAAC,GAAG,CAAI,KAAK,mFAAoB,CAAC,CAAC;YACrC,SAAS;SACZ;QACD,yCAAyC;QACzC,0CAA0C;QAC1C,IAAI;QAEJ,IAAI,eAAe,CAAC,KAAK,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;YACpC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;YAC7C,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;SACjD;KACJ;IAED,IAAI,YAAY,GAAG,EAAE,CAAC;IAEtB,KAAK,IAAI,KAAK,IAAI,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;QACnC,IAAI,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,IAAI,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3F,IAAI,UAAU,GAAG,KAAK,CAAC;YACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACnE,IAAI,WAAW,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;oBACtE,UAAU,GAAG,IAAI,CAAC;iBAErB;aACJ;YAED,IAAI,UAAU,EAAE;gBACZ,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;gBAClD,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;aACrD;SACJ;KACJ;IAGD,KAAK,IAAI,KAAK,IAAI,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;QACnC,IAAI,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,IAAI,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3F,IAAI,UAAU,GAAG,KAAK,CAAC;YACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACnE,IAAI,YAAY,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;oBACvE,UAAU,GAAG,IAAI,CAAC;iBAErB;aACJ;YAED,IAAI,UAAU,EAAE;gBACZ,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;aACrD;SACJ;KACJ;IACD,WAAW,GAAG,EAAE,CAAC;AACrB,CAAC;AAED,8BAA8B,MAAM,EAAE,YAAY,EAAE,eAAe;IAC/D,IAAI,MAAM,CAAC,YAAY,CAAC,EAAE;QACtB,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;QACvE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,gBAAgB,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC;KAC1E;IAED,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC,CAAC;IAClE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC;IAClE,MAAM,CAAC,YAAY,CAAC,GAAG,eAAe,CAAC;AAC3C,CAAC;AAED,IAAI,OAAO,GAAG,EAAE,CAAC;AACjB,IAAI,SAAS,GAAG,IAAI,CAAC;AAEf,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAE1C;IAAA;IAoLA,CAAC;IAnLiB,gBAAO,GAArB,UAAsB,IAAI,EAAE,IAAI,EAAE,QAAQ;QACtC,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,UAAC,GAAG,EAAE,KAAK;YACrC,IAAI,GAAG,EAAE;gBACL,EAAE,CAAC,GAAG,CAAC,6CAAa,GAAK,CAAC,CAAC;gBAC3B,OAAO;aACV;YACD,QAAQ,CAAC,KAAK,CAAC,CAAA;QACnB,CAAC,CAAC,CAAC;IACP,CAAC;IAGa,sBAAa,GAA3B,UAA4B,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,QAAQ;QACjD,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,EAAE;YAC7B,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACf,OAAO;SACV;QACD,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,UAAC,GAAG,EAAE,KAAK;YACrC,IAAI,GAAG,EAAE;gBACL,EAAE,CAAC,GAAG,CAAC,6CAAa,GAAK,CAAC,CAAC;gBAC3B,OAAO;aACV;YACD,QAAQ,CAAC,KAAK,CAAC,CAAA;YACf,cAAc,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC;IACP,CAAC;IAGa,oBAAW,GAAzB,UAA0B,KAAK;QAC3B,YAAY,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAC3B,CAAC;IAEa,6BAAoB,GAAlC,UAAmC,MAAM,EAAE,WAAW;QAClD,IAAI,CAAC,MAAM,IAAI,CAAC,WAAW,EAAE;YACzB,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;YACd,OAAO;SACV;QAED,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE;YACjC,EAAE,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;YACzB,OAAO;SACV;QAED,IAAI,MAAM,GAAG,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;QAE5C,oBAAoB,CAAC,MAAM,EAAE,aAAa,EAAE,WAAW,CAAC,CAAC;QAEzD,cAAc,EAAE,CAAC;IACrB,CAAC;IAEa,6BAAoB,GAAlC,UAAmC,MAAM,EAAE,YAAY,EAAE,aAAa,EAAE,WAAW,EAAE,cAAc;QAC/F,IAAI,CAAC,MAAM,IAAI,CAAC,YAAY,EAAE;YAC1B,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;YACd,OAAO;SACV;QAED,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE;YACjC,EAAE,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;YACzB,OAAO;SACV;QAED,IAAI,MAAM,GAAG,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;QAC5C,IAAI,YAAY,EAAE;YACd,oBAAoB,CAAC,MAAM,EAAE,cAAc,EAAE,YAAY,CAAC,CAAC;SAC9D;QAED,IAAI,aAAa,EAAE;YACf,oBAAoB,CAAC,MAAM,EAAE,eAAe,EAAE,aAAa,CAAC,CAAC;SAChE;QAED,IAAI,WAAW,EAAE;YACb,oBAAoB,CAAC,MAAM,EAAE,aAAa,EAAE,WAAW,CAAC,CAAC;SAC5D;QAED,IAAI,cAAc,EAAE;YAChB,oBAAoB,CAAC,MAAM,EAAE,gBAAgB,EAAE,cAAc,CAAC,CAAC;SAClE;QAED,cAAc,EAAE,CAAC;IACrB,CAAC;IAEa,oBAAW,GAAzB,UAA0B,MAAM,EAAE,MAAM,EAAE,QAAQ;QAC9C,IAAI,CAAC,MAAM,IAAI,CAAC,QAAQ,EAAE;YACtB,EAAE,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;SACzB;QACD,IAAI,WAAW,GAAG,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QACzC,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;QAC7B,QAAQ,CAAC,WAAW,CAAC,CAAC;QACtB,YAAY,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;IACjC,CAAC;IAEa,yBAAgB,GAA9B,UAA+B,GAAU;QAAV,oBAAA,EAAA,UAAU;QACrC,gBAAgB,CAAC,GAAG,CAAC,CAAC;IAC1B,CAAC;IAEa,gBAAO,GAArB,UAAsB,IAAI;QACtB,IAAI,CAAC,CAAC,IAAI,YAAY,EAAE,CAAC,IAAI,CAAC,EAAE;YAC5B,EAAE,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YACtB,OAAO;SACV;QACD,YAAY,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,cAAc,EAAE,CAAC;IACrB,CAAC;IAEa,2BAAkB,GAAhC,UAAiC,KAAK,CAAC,YAAY;QAC/C,OAAO,GAAG,EAAE,CAAC;QACb,IAAI,YAAY,GAAG,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC,YAAY,CAAC;QAC3D,IAAI,YAAY,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;YACzC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC1C,IAAI,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;oBACvF,OAAO,CAAC,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;oBAC7B,OAAO,YAAY,CAAC,CAAC,CAAC,CAAC;iBAC1B;gBAED,IAAI,eAAe,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;oBACvD,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC;iBACpD;aACJ;SACJ;QAED,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC5C,IAAI,CAAC,OAAO,CAAC,UAAC,GAAG;YACb,IAAI,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,QAAQ,IAAI,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;gBACvG,IAAI,eAAe,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE;oBAC3C,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;iBACvC;aACJ;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAEa,yBAAgB,GAA9B,UAA+B,KAAK,CAAC,YAAY;QAC7C,KAAK,IAAI,GAAG,IAAI,OAAO,EAAE;YACrB,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC;SAC/D;QACD,IAAI,YAAY,GAAG,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC,YAAY,CAAC;QAC3D,IAAI,YAAY,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;YACzC,KAAK,IAAI,CAAC,GAAG,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC/C,IAAI,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;oBACvF,SAAS;iBACZ;gBACD,IAAI,eAAe,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;oBACvD,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC;iBACpD;aAEJ;SACJ;QACD,cAAc,EAAE,CAAC;IACrB,CAAC;IAEa,mBAAU,GAAxB,UAAyB,IAAI,EAAE,MAAM;QACjC,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,EAAE;YAClB,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACf,OAAO;SACV;QACD,IAAI,OAAO,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;QACvD,EAAE,CAAC,WAAW,CAAC,iBAAiB,CAAC,OAAO,EAAG,UAAC,EAAE,EAAE,IAAI;YAChD,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;QAC9D,CAAC,CAAC,CAAC;QACH,OAAO,OAAO,CAAC;IACnB,CAAC;IAEa,kBAAS,GAAvB,UAAwB,IAAI,EAAE,IAAI,EAAE,MAAM;QACtC,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,EAAE;YAClB,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACf,OAAO;SACV;QACD,IAAI,SAAS,EAAE;YACX,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC;SACzD;QACD,SAAS,GAAG,IAAI,CAAC;QACjB,IAAI,OAAO,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;QACtD,EAAE,CAAC,WAAW,CAAC,iBAAiB,CAAC,OAAO,EAAG,UAAC,EAAE,EAAE,IAAI;YAChD,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACjB,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;QAC9D,CAAC,CAAC,CAAC;QACH,OAAO,OAAO,CAAC;IACnB,CAAC;IAjLS,QAAQ;QADrB,OAAO;OACM,QAAQ,CAoLrB;IAAD,eAAC;CApLD,AAoLC,IAAA;AApLa,4BAAQ","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\Common","sourcesContent":["function initRetain(texture) {\r\n    if (texture.retain == null) {\r\n        texture.retain = 0;\r\n    }\r\n}\r\n\r\nfunction _isNullObj(texture) {\r\n    if (texture) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction initSceneRetain(texture) {\r\n    if (texture) {\r\n        if (texture.retain == undefined || texture.retain == null) {\r\n            texture.retain = 1;\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction parserPrefab(node, number) {\r\n    // if (!(node instanceof cc.Scene)) {\r\n    //     parserPrefabNode(node, number);\r\n    // }\r\n\r\n    let children = node._children;\r\n    children.forEach((child) => {\r\n        parserPrefabNode(child, number);\r\n        parserPrefab(child, number);\r\n    });\r\n}\r\n\r\nfunction parserPrefabNode(node, number) {\r\n    let sprite = node.getComponent(cc.Sprite);\r\n    if (sprite && sprite.spriteFrame) {\r\n        initRetain(cc.loader[\"_cache\"][sprite.spriteFrame._textureFilename]);\r\n        cc.loader[\"_cache\"][sprite.spriteFrame._textureFilename].retain += number;\r\n    }\r\n\r\n    let button = node.getComponent(cc.Button);\r\n    if (button) {\r\n        if (button.normalSprite) {\r\n            initRetain(cc.loader[\"_cache\"][button.normalSprite._textureFilename]);\r\n            cc.loader[\"_cache\"][button.normalSprite._textureFilename].retain += number;\r\n        }\r\n\r\n        if (button.pressedSprite) {\r\n            initRetain(cc.loader[\"_cache\"][button.pressedSprite._textureFilename]);\r\n            cc.loader[\"_cache\"][button.pressedSprite._textureFilename].retain += number;\r\n        }\r\n\r\n        if (button.hoverSprite) {\r\n            initRetain(cc.loader[\"_cache\"][button.hoverSprite._textureFilename]);\r\n            cc.loader[\"_cache\"][button.hoverSprite._textureFilename].retain += number;\r\n        }\r\n\r\n        if (button.disabledSprite) {\r\n            initRetain(cc.loader[\"_cache\"][button.disabledSprite._textureFilename]);\r\n            cc.loader[\"_cache\"][button.disabledSprite._textureFilename].retain += number;\r\n        }\r\n    }\r\n\r\n    let label = node.getComponent(cc.Label);\r\n    if (label && label.font && label.font instanceof cc.BitmapFont && label.font.spriteFrame) {\r\n        initRetain(cc.loader[\"_cache\"][label.font.spriteFrame._textureFilename]);\r\n        cc.loader[\"_cache\"][label.font.spriteFrame._textureFilename].retain += number;\r\n    }\r\n\r\n    let richText = node.getComponent(cc.RichText);\r\n    if (richText && richText.imageAtlas) {\r\n        let keys = Object.keys(richText.imageAtlas._spriteFrames);\r\n        if (keys.length > 0) {\r\n            initRetain(cc.loader[\"_cache\"][richText.imageAtlas._spriteFrames[keys[0]]._textureFilename]);\r\n            cc.loader[\"_cache\"][richText.imageAtlas._spriteFrames[keys[0]]._textureFilename].retain += number;\r\n        }\r\n    }\r\n\r\n    let particleSystem = node.getComponent(cc.ParticleSystem);\r\n    if (particleSystem && particleSystem._texture) {\r\n        initRetain(cc.loader[\"_cache\"][particleSystem._texture]);\r\n        cc.loader[\"_cache\"][particleSystem._texture].retain += number;\r\n    }\r\n\r\n    let pageViewIndicator = node.getComponent(cc.PageViewIndicator);\r\n    if (pageViewIndicator && pageViewIndicator.spriteFrame) {\r\n        initRetain(cc.loader[\"_cache\"][pageViewIndicator.spriteFrame._textureFilename]);\r\n        cc.loader[\"_cache\"][pageViewIndicator.spriteFrame._textureFilename].retain += number;\r\n    }\r\n\r\n    let editBox = node.getComponent(cc.EditBox);\r\n    if (editBox && editBox.backgroundImage) {\r\n        initRetain(cc.loader[\"_cache\"][editBox.backgroundImage._textureFilename]);\r\n        cc.loader[\"_cache\"][editBox.backgroundImage._textureFilename].retain += number;\r\n    }\r\n\r\n    let mask = node.getComponent(cc.Mask);\r\n    if (mask && mask.spriteFrame) {\r\n        initRetain(cc.loader[\"_cache\"][mask.spriteFrame._textureFilename]);\r\n        cc.loader[\"_cache\"][mask.spriteFrame._textureFilename].retain += number;\r\n    }\r\n}\r\n\r\nfunction parseStaticRes(item, tag) {\r\n    if (item instanceof cc.Texture2D) {\r\n        cc.loader[\"_cache\"][item.url].isStatic = true;\r\n        cc.loader[\"_cache\"][item.url].cusTag = tag;\r\n    } else if (item instanceof cc.SpriteFrame) {\r\n        cc.loader[\"_cache\"][item[\"_textureFilename\"]].isStatic = true;\r\n        cc.loader[\"_cache\"][item[\"_textureFilename\"]].cusTag = tag;\r\n    } else if (item instanceof cc.Prefab) {\r\n        parseStaticPrefab(item, tag);\r\n    } else if (item instanceof cc.BitmapFont) {\r\n        cc.loader[\"_cache\"][item[\"spriteFrame\"]._textureFilename].isStatic = true;\r\n        cc.loader[\"_cache\"][item[\"spriteFrame\"]._textureFilename].cusTag = tag;\r\n    } else if (item instanceof cc.SpriteAtlas) {\r\n        var keys = Object.keys(item[\"_spriteFrames\"])\r\n        keys.forEach((key) => {\r\n            cc.loader[\"_cache\"][item[\"_spriteFrames\"][key]._textureFilename].isStatic = true;\r\n            cc.loader[\"_cache\"][item[\"_spriteFrames\"][key]._textureFilename].cusTag = tag;\r\n        });\r\n    } else if (item instanceof cc.AnimationClip) {\r\n        cc.log('AnimationClip 资源加载未做处理');\r\n    } else if (item instanceof Object && item.name) {\r\n        cc.log('Object 资源加载未做处理');\r\n    }\r\n}\r\n\r\nfunction parseStaticPrefab(node, tag) {\r\n    var prefab = node;\r\n    if (node.data) {\r\n        prefab = node.data;\r\n    }\r\n\r\n    if (!(prefab instanceof cc.Scene)) {\r\n        parseStaticNode(prefab, tag);\r\n    }\r\n    let children = prefab._children;\r\n    children.forEach((child) => {\r\n        parseStaticNode(child, tag);\r\n        parseStaticPrefab(child, tag);\r\n    });\r\n}\r\n\r\nfunction parseStaticNode(node, tag) {\r\n    let sprite = node.getComponent(cc.Sprite);\r\n    if (sprite && sprite.spriteFrame) {\r\n        if (_isNullObj(cc.loader[\"_cache\"][sprite.spriteFrame._textureFilename])) {\r\n            cc.loader[\"_cache\"][sprite.spriteFrame._textureFilename].isStatic = true;\r\n            cc.loader[\"_cache\"][sprite.spriteFrame._textureFilename].cusTag = tag;\r\n        }\r\n    }\r\n\r\n    let button = node.getComponent(cc.Button);\r\n    if (button) {\r\n        if (button.normalSprite) {\r\n            if (_isNullObj(cc.loader[\"_cache\"][button.normalSprite._textureFilename])) {\r\n                cc.loader[\"_cache\"][button.normalSprite._textureFilename].isStatic = true;\r\n                cc.loader[\"_cache\"][button.normalSprite._textureFilename].cusTag = tag;\r\n            }\r\n        }\r\n\r\n        if (button.pressedSprite) {\r\n            if (_isNullObj(cc.loader[\"_cache\"][button.pressedSprite._textureFilename])) {\r\n                cc.loader[\"_cache\"][button.pressedSprite._textureFilename].isStatic = true;\r\n                cc.loader[\"_cache\"][button.pressedSprite._textureFilename].cusTag = tag;\r\n            }\r\n        }\r\n\r\n        if (button.hoverSprite) {\r\n            if (_isNullObj(cc.loader[\"_cache\"][button.hoverSprite._textureFilename])) {\r\n                cc.loader[\"_cache\"][button.hoverSprite._textureFilename].isStatic = true;\r\n                cc.loader[\"_cache\"][button.hoverSprite._textureFilename].cusTag = tag;\r\n            }\r\n        }\r\n\r\n        if (button.disabledSprite) {\r\n            if (_isNullObj(cc.loader[\"_cache\"][button.disabledSprite._textureFilename])) {\r\n                cc.loader[\"_cache\"][button.disabledSprite._textureFilename].isStatic = true;\r\n                cc.loader[\"_cache\"][button.disabledSprite._textureFilename].cusTag = tag;\r\n            }\r\n        }\r\n    }\r\n\r\n    let label = node.getComponent(cc.Label);\r\n    if (label && label.font && label.font instanceof cc.BitmapFont && label.font.spriteFrame) {\r\n        if (_isNullObj(cc.loader[\"_cache\"][label.font.spriteFrame._textureFilename])) {\r\n            cc.loader[\"_cache\"][label.font.spriteFrame._textureFilename].isStatic = true;\r\n            cc.loader[\"_cache\"][label.font.spriteFrame._textureFilename].cusTag = tag;\r\n        }\r\n    }\r\n\r\n    let richText = node.getComponent(cc.RichText);\r\n    if (richText && richText.imageAtlas) {\r\n        let keys = Object.keys(richText.imageAtlas._spriteFrames);\r\n        if (keys.length > 0) {\r\n            if (_isNullObj(cc.loader[\"_cache\"][richText.imageAtlas._spriteFrames[keys[0]]._textureFilename])) {\r\n                cc.loader[\"_cache\"][richText.imageAtlas._spriteFrames[keys[0]]._textureFilename].isStatic = true;\r\n                cc.loader[\"_cache\"][richText.imageAtlas._spriteFrames[keys[0]]._textureFilename].cusTag = tag;\r\n            }\r\n        }\r\n    }\r\n\r\n    let particleSystem = node.getComponent(cc.ParticleSystem);\r\n    if (particleSystem && particleSystem._texture) {\r\n        if (_isNullObj(cc.loader[\"_cache\"][particleSystem._texture])) {\r\n            cc.loader[\"_cache\"][particleSystem._texture].isStatic = true;\r\n            cc.loader[\"_cache\"][particleSystem._texture].cusTag = tag;\r\n        }\r\n    }\r\n\r\n    let pageViewIndicator = node.getComponent(cc.PageViewIndicator);\r\n    if (pageViewIndicator && pageViewIndicator.spriteFrame) {\r\n        if (_isNullObj(cc.loader[\"_cache\"][pageViewIndicator.spriteFrame._textureFilename])) {\r\n            cc.loader[\"_cache\"][pageViewIndicator.spriteFrame._textureFilename].isStatic = true;\r\n            cc.loader[\"_cache\"][pageViewIndicator.spriteFrame._textureFilename].cusTag = tag;\r\n        }\r\n    }\r\n\r\n    let editBox = node.getComponent(cc.EditBox);\r\n    if (editBox && editBox.backgroundImage) {\r\n        if (_isNullObj(cc.loader[\"_cache\"][editBox.backgroundImage._textureFilename])) {\r\n            cc.loader[\"_cache\"][editBox.backgroundImage._textureFilename].isStatic = true;\r\n            cc.loader[\"_cache\"][editBox.backgroundImage._textureFilename].cusTag = tag;\r\n        }\r\n    }\r\n\r\n    let mask = node.getComponent(cc.Mask);\r\n    if (mask && mask.spriteFrame) {\r\n        if (_isNullObj(cc.loader[\"_cache\"][mask.spriteFrame._textureFilename])) {\r\n            cc.loader[\"_cache\"][mask.spriteFrame._textureFilename].cusTag = tag;\r\n            cc.loader[\"_cache\"][mask.spriteFrame._textureFilename].isStatic = true;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nfunction deepCloneObj(obj) {\r\n    var i;\r\n    var o = Array.isArray(obj) ? [] : {};\r\n    for (i in obj) {\r\n        if (obj.hasOwnProperty(i)) {\r\n            o[i] = typeof obj[i] === \"Object\" ? deepCloneObj(obj[i]) : obj[i];\r\n        }\r\n    }\r\n    return o;\r\n}\r\n\r\nfunction releaseNodeRes() {\r\n\r\n    var dependAssets = cc.director.getScene()[\"dependAssets\"];\r\n\r\n    var texturesInCache = deepCloneObj(cc.loader[\"_cache\"]);\r\n\r\n    var release_key = [];\r\n\r\n    for (var asset in texturesInCache) {\r\n\r\n        if (texturesInCache[asset].isStatic) {\r\n            continue;\r\n        }\r\n\r\n        // if (dependAssets.indexOf(asset) !== -1) {\r\n        //     continue;\r\n        // }\r\n\r\n        if (texturesInCache[asset].retain <= 0) {\r\n            release_key.push(texturesInCache[asset].url);\r\n            cc.loader.release(texturesInCache[asset].url);\r\n        }\r\n    }\r\n\r\n    var release_json = [];\r\n    for (var asset in cc.loader[\"_cache\"]) {\r\n        if (cc.loader[\"_cache\"][asset].dependKeys && cc.loader[\"_cache\"][asset].dependKeys.length > 0) {\r\n            var is_release = false;\r\n            for (var i = 0; i < cc.loader[\"_cache\"][asset].dependKeys.length; i++) {\r\n                if (release_key.indexOf(cc.loader[\"_cache\"][asset].dependKeys[i]) !== -1) {\r\n                    is_release = true;\r\n\r\n                }\r\n            }\r\n\r\n            if (is_release) {\r\n                release_json.push(cc.loader[\"_cache\"][asset].url);\r\n                cc.loader.release(cc.loader[\"_cache\"][asset].url);\r\n            }\r\n        }\r\n    }\r\n\r\n    for (var asset in cc.loader[\"_cache\"]) {\r\n        if (cc.loader[\"_cache\"][asset].dependKeys && cc.loader[\"_cache\"][asset].dependKeys.length > 0) {\r\n            var is_release = false;\r\n            for (var i = 0; i < cc.loader[\"_cache\"][asset].dependKeys.length; i++) {\r\n                if (release_json.indexOf(cc.loader[\"_cache\"][asset].dependKeys[i]) !== -1) {\r\n                    is_release = true;\r\n\r\n                }\r\n            }\r\n\r\n            if (is_release) {\r\n                cc.loader.release(cc.loader[\"_cache\"][asset].url);\r\n            }\r\n        }\r\n    }\r\n    release_key = [];\r\n}\r\n\r\nfunction releaseStaticRes(tag) {\r\n\r\n    var dependAssets = cc.director.getScene()[\"dependAssets\"];\r\n\r\n    var texturesInCache = deepCloneObj(cc.loader[\"_cache\"]);\r\n\r\n    var release_key = [];\r\n\r\n    for (var asset in texturesInCache) {\r\n        if (tag) {\r\n            if (texturesInCache[asset].cusTag != tag) {\r\n                continue;\r\n            }\r\n        }\r\n\r\n        if (texturesInCache[asset].retain > 0 && texturesInCache[asset].isStatic) {\r\n            cc.log(`${asset} 还在使用中..., 该纹理不会释放`);\r\n            continue;\r\n        }\r\n        // if (texturesInCache[asset].isStatic) {\r\n        //     texturesInCache[asset].retain -= 1;\r\n        // }\r\n\r\n        if (texturesInCache[asset].retain <= 0) {\r\n            release_key.push(texturesInCache[asset].url);\r\n            cc.loader.release(texturesInCache[asset].url);\r\n        }\r\n    }\r\n\r\n    var release_json = [];\r\n\r\n    for (var asset in cc.loader[\"_cache\"]) {\r\n        if (cc.loader[\"_cache\"][asset].dependKeys && cc.loader[\"_cache\"][asset].dependKeys.length > 0) {\r\n            var is_release = false;\r\n            for (var i = 0; i < cc.loader[\"_cache\"][asset].dependKeys.length; i++) {\r\n                if (release_key.indexOf(cc.loader[\"_cache\"][asset].dependKeys[i]) !== -1) {\r\n                    is_release = true;\r\n\r\n                }\r\n            }\r\n\r\n            if (is_release) {\r\n                release_json.push(cc.loader[\"_cache\"][asset].url);\r\n                cc.loader.release(cc.loader[\"_cache\"][asset].url);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    for (var asset in cc.loader[\"_cache\"]) {\r\n        if (cc.loader[\"_cache\"][asset].dependKeys && cc.loader[\"_cache\"][asset].dependKeys.length > 0) {\r\n            var is_release = false;\r\n            for (var i = 0; i < cc.loader[\"_cache\"][asset].dependKeys.length; i++) {\r\n                if (release_json.indexOf(cc.loader[\"_cache\"][asset].dependKeys[i]) !== -1) {\r\n                    is_release = true;\r\n\r\n                }\r\n            }\r\n\r\n            if (is_release) {\r\n                cc.loader.release(cc.loader[\"_cache\"][asset].url);\r\n            }\r\n        }\r\n    }\r\n    release_key = [];\r\n}\r\n\r\nfunction replaceButtonTexture(target, normalSprite, newNormalSprite) {\r\n    if (target[normalSprite]) {\r\n        initRetain(cc.loader[\"_cache\"][target[normalSprite]._textureFilename]);\r\n        cc.loader[\"_cache\"][target[normalSprite]._textureFilename].retain -= 1;\r\n    }\r\n\r\n    initRetain(cc.loader[\"_cache\"][newNormalSprite._textureFilename]);\r\n    cc.loader[\"_cache\"][newNormalSprite._textureFilename].retain += 1;\r\n    target[normalSprite] = newNormalSprite;\r\n}\r\n\r\nvar key_map = {};\r\nvar audioPath = null;\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n@ccclass\r\nexport  class UILoader{\r\n    public static loadRes(path, type, callback) : void {\r\n        cc.loader.loadRes(path, type, (err, asset) => {\r\n            if (err) {\r\n                cc.log(`[资源加载] 错误 ${err}`);\r\n                return;\r\n            }\r\n            callback(asset)\r\n        });\r\n    }\r\n\r\n\r\n    public static loadStaticRes(path, type, tag, callback) : void {\r\n        if (!path || !type || !callback) {\r\n            cc.log(\"参数错误\");\r\n            return;\r\n        }\r\n        cc.loader.loadRes(path, type, (err, asset) => {\r\n            if (err) {\r\n                cc.log(`[资源加载] 错误 ${err}`);\r\n                return;\r\n            }\r\n            callback(asset)\r\n            parseStaticRes(asset, tag);\r\n        });\r\n    }\r\n\r\n\r\n    public static retainScene(scene) : void {\r\n        parserPrefab(scene, 1);\r\n    }\r\n\r\n    public static replaceSpriteTexture(target, spriteFrame) : void {\r\n        if (!target || !spriteFrame) {\r\n            cc.log(\"参数错误\")\r\n            return;\r\n        }\r\n\r\n        if (!target.getComponent(cc.Sprite)) {\r\n            cc.log(\"目标节点没有Sprite组件\");\r\n            return;\r\n        }\r\n\r\n        let sprite = target.getComponent(cc.Sprite);\r\n\r\n        replaceButtonTexture(sprite, \"spriteFrame\", spriteFrame);\r\n\r\n        releaseNodeRes();\r\n    }\r\n\r\n    public static replaceButtonTexture(target, normalSprite, pressedSprite, hoverSprite, disabledSprite) : void {\r\n        if (!target || !normalSprite) {\r\n            cc.log(\"参数错误\")\r\n            return;\r\n        }\r\n\r\n        if (!target.getComponent(cc.Button)) {\r\n            cc.log(\"目标节点没有Button组件\");\r\n            return;\r\n        }\r\n\r\n        let button = target.getComponent(cc.Button);\r\n        if (normalSprite) {\r\n            replaceButtonTexture(button, \"normalSprite\", normalSprite);\r\n        }\r\n\r\n        if (pressedSprite) {\r\n            replaceButtonTexture(button, \"pressedSprite\", pressedSprite);\r\n        }\r\n\r\n        if (hoverSprite) {\r\n            replaceButtonTexture(button, \"hoverSprite\", hoverSprite);\r\n        }\r\n\r\n        if (disabledSprite) {\r\n            replaceButtonTexture(button, \"disabledSprite\", disabledSprite);\r\n        }\r\n\r\n        releaseNodeRes();\r\n    }\r\n\r\n    public static instantiate(prefab, target, callback): void {\r\n        if (!target || !callback) {\r\n            cc.log(\"参数不对, 请检查参数\");\r\n        }\r\n        let node_prefab = cc.instantiate(prefab);\r\n        target.addChild(node_prefab);\r\n        callback(node_prefab);\r\n        parserPrefab(node_prefab, 1);\r\n    }\r\n\r\n    public static releaseStaticRes(tag = null) : void {\r\n        releaseStaticRes(tag);\r\n    }\r\n\r\n    public static destroy(node) : void {\r\n        if (!(node instanceof cc.Node)) {\r\n            cc.log(\"你要销毁的不是一个节点\");\r\n            return;\r\n        }\r\n        parserPrefab(node, -1);\r\n        node.destroy();\r\n        releaseNodeRes();\r\n    }\r\n\r\n    public static beforeSceneLoading(event /*, detail*/) : void {\r\n        key_map = {};\r\n        var dependAssets = event.currentTarget._scene.dependAssets;\r\n        if (dependAssets && dependAssets.length > 0) {\r\n            for (var i = 0; i < dependAssets.length; i++) {\r\n                if (cc.loader[\"_cache\"][dependAssets[i]] && cc.loader[\"_cache\"][dependAssets[i]].isStatic) {\r\n                    key_map[i] = dependAssets[i];\r\n                    delete dependAssets[i];\r\n                }\r\n\r\n                if (initSceneRetain(cc.loader[\"_cache\"][dependAssets[i]])) {\r\n                    cc.loader[\"_cache\"][dependAssets[i]].retain -= 1;\r\n                }\r\n            }\r\n        }\r\n\r\n        var keys = Object.keys(cc.loader[\"_cache\"]);\r\n        keys.forEach((key) => {\r\n            if (cc.loader[\"_cache\"][key] && !cc.loader[\"_cache\"][key].isStatic && cc.loader[\"_cache\"][key].retain > 0) {\r\n                if (initSceneRetain(cc.loader[\"_cache\"][key])) {\r\n                    cc.loader[\"_cache\"][key].retain = 0;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public static afterSceneLaunch(event /*, detail*/) : void {\r\n        for (var key in key_map) {\r\n            event.currentTarget._scene.dependAssets[key] = key_map[key];\r\n        }\r\n        var dependAssets = event.currentTarget._scene.dependAssets;\r\n        if (dependAssets && dependAssets.length > 0) {\r\n            for (var i = dependAssets.length - 1; i >= 0; i--) {\r\n                if (cc.loader[\"_cache\"][dependAssets[i]] && cc.loader[\"_cache\"][dependAssets[i]].isStatic) {\r\n                    continue;\r\n                }\r\n                if (initSceneRetain(cc.loader[\"_cache\"][dependAssets[i]])) {\r\n                    cc.loader[\"_cache\"][dependAssets[i]].retain += 1;\r\n                }\r\n\r\n            }\r\n        }\r\n        releaseNodeRes();\r\n    }\r\n\r\n    public static playEffect(path, volume) : number {\r\n        if (!path || !volume) {\r\n            cc.log(\"参数错误\");\r\n            return;\r\n        }\r\n        let audioID = cc.audioEngine.play(path, false, volume);\r\n        cc.audioEngine.setFinishCallback(audioID,  (ss, ss11) => {\r\n            cc.loader.release(cc.loader[\"_cache\"][ss.target.src].url);\r\n        });\r\n        return audioID;\r\n    }\r\n\r\n    public static playMusic(path, loop, volume) : number {\r\n        if (!path || !volume) {\r\n            cc.log(\"参数错误\");\r\n            return;\r\n        }\r\n        if (audioPath) {\r\n            cc.loader.release(cc.loader[\"_cache\"][audioPath].url);\r\n        }\r\n        audioPath = path;\r\n        let audioID = cc.audioEngine.play(path, loop, volume);\r\n        cc.audioEngine.setFinishCallback(audioID,  (ss, ss11) => {\r\n            cc.log(\"触发回调函数\");\r\n            cc.loader.release(cc.loader[\"_cache\"][ss.target.src].url);\r\n        });\r\n        return audioID;\r\n    }\r\n\r\n    // update (dt) {},\r\n}\r\n"]}