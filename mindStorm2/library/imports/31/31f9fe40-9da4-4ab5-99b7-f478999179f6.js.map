{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\UI\\ranking/assets\\Script\\UI\\ranking\\RankingCell.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\UI\\ranking","sourcesContent":["//排行榜单条数据信息\r\n\r\nimport GameCtr from \"../../Controller/GameCtr\";\r\nimport Util from \"../../Common/Util\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class RankingCell extends cc.Component {\r\n\r\n    @property(cc.Sprite)\r\n    sprBg: cc.Sprite = null;\r\n    @property(cc.Sprite)\r\n    sprMedal: cc.Sprite = null;\r\n    @property(cc.Sprite)\r\n    sprHead: cc.Sprite = null;\r\n    @property(cc.Label)\r\n    lbRank: cc.Label = null;\r\n    @property(cc.Label)\r\n    lbName: cc.Label = null;\r\n    @property(cc.Label)\r\n    lbScore: cc.Label = null;\r\n    @property([cc.SpriteFrame])\r\n    medalFrames: cc.SpriteFrame[] = [];\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n\r\n    setData(rank, data) {\r\n        // this.setBgColor(rank);\r\n        this.setMedal(rank);\r\n        this.createImage(data.Icon);\r\n        this.lbName.string = Util.cutstr(data.nick, 10);\r\n        this.lbScore.string = data.value +\"\";\r\n    }\r\n\r\n    setMedal(idx) {\r\n        if(idx < 3) {\r\n            this.sprMedal.node.active = true;\r\n            this.sprMedal.spriteFrame = this.medalFrames[idx];\r\n            this.lbRank.node.active = true;\r\n            this.lbRank.string = idx+1;\r\n            \r\n        }else{\r\n            this.lbRank.node.active = true;\r\n            this.lbRank.string = idx+1;\r\n            this.sprMedal.node.active = false;\r\n        }\r\n    }\r\n\r\n    //根据index设置背景色\r\n    setBgColor(idx) {\r\n        idx = idx % 2;\r\n        this.sprBg.node.color = (idx == 0) ? cc.hexToColor(\"#1966EE\") : cc.hexToColor(\"#5990F1\");\r\n    }\r\n\r\n    createImage(avatarUrl) {\r\n        if (window.wx != undefined) {\r\n            try {\r\n                let image = wx.createImage();\r\n                image.onload = () => {\r\n                    try {\r\n                        let texture = new cc.Texture2D();\r\n                        texture.initWithElement(image);\r\n                        texture.handleLoadedTexture();\r\n                        this.sprHead.spriteFrame = new cc.SpriteFrame(texture);\r\n                    } catch (e) {\r\n                        cc.log(e);\r\n                        this.sprHead.node.active = false;\r\n                    }\r\n                };\r\n                image.src = avatarUrl;\r\n            } catch (e) {\r\n                cc.log(e);\r\n                this.sprHead.node.active = false;\r\n            }\r\n        } else {\r\n            cc.loader.load({\r\n                url: avatarUrl,\r\n                type: 'jpg'\r\n            }, (err, texture) => {\r\n                this.sprHead.spriteFrame = new cc.SpriteFrame(texture);\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // start () {\r\n\r\n    // }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}