{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\UI\\start/assets\\Script\\UI\\start\\totalRank.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\UI\\start","sourcesContent":["\r\nimport Util from \"../../Common/Util\";\r\nimport GameCtr from \"../../Controller/GameCtr\";\r\nimport WXCtr from \"../../Controller/WXCtr\";\r\nimport AudioManager from '../../Common/AudioManager'\r\nconst {ccclass, property} = cc._decorator;\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n\r\n    @property(cc.Prefab)\r\n    headPrefab:cc.Prefab;\r\n\r\n    @property(cc.Prefab)\r\n    otherRankItem:cc.Prefab;\r\n\r\n    private btn_back = null;\r\n    private place_1 = null;\r\n    private place_2 = null;\r\n    private place_3 = null;\r\n    private title=null;\r\n    private rankContent =null;\r\n    private selfRankInfoNode=null;\r\n    private first2ThirdArr=[];\r\n    private worldRankData=null;\r\n    private selfRank=null;\r\n    private selfChickenValue=null;\r\n\r\n    private authTipNode=null;\r\n    private rankNode=null;\r\n\r\n    onLoad(){\r\n        this.initNode();\r\n        this.adaptScreen();\r\n        GameCtr.getInstance().addListener(\"getSelfInfoSuccess1\",this.initSelfRankInfo.bind(this));\r\n    }\r\n\r\n\r\n    initNode(){\r\n        this.place_1=this.node.getChildByName(\"place_1\");\r\n        this.place_2=this.node.getChildByName(\"place_2\");\r\n        this.place_3=this.node.getChildByName(\"place_3\");\r\n        this.btn_back=this.node.getChildByName(\"btn_back\");\r\n        this.authTipNode=this.node.getChildByName(\"authTip\");\r\n        this.title=this.node.getChildByName(\"title\");\r\n        this.rankNode=this.node.getChildByName(\"rankNode\");\r\n        this.selfRankInfoNode=this.node.getChildByName(\"selfRankInfoNode\");\r\n        this.rankContent=this.node.getChildByName(\"rankNode\").getChildByName(\"scrollView\").getChildByName(\"view\").getChildByName(\"content\");\r\n\r\n        this.place_1.setLocalZOrder(10);\r\n        this.place_2.setLocalZOrder(10);\r\n        this.place_3.setLocalZOrder(10);\r\n\r\n        this.first2ThirdArr.push(this.place_1);\r\n        this.first2ThirdArr.push(this.place_2);\r\n        this.first2ThirdArr.push(this.place_3);\r\n\r\n        this.place_1.active=false;\r\n        this.place_2.active=false;\r\n        this.place_3.active=false;\r\n        this.title.active=false;\r\n        this.rankNode.active=false;\r\n        this.selfRankInfoNode.active=false;\r\n\r\n        \r\n        this.btn_back.on(cc.Node.EventType.TOUCH_END,function(e){\r\n            AudioManager.getInstance().playSound(\"audio/btnCick\");\r\n            this.close();\r\n        }.bind(this))\r\n    }\r\n\r\n    adaptScreen(){\r\n        let visibleSize=cc.director.getVisibleSize();\r\n        this.place_1.y=visibleSize.height/2-250;\r\n        this.place_2.y=visibleSize.height/2-310;\r\n        this.place_3.y=visibleSize.height/2-310;\r\n        this.title.y=visibleSize.height/2-410;\r\n        this.btn_back.y=visibleSize.height/2-200;\r\n        this.selfRankInfoNode.y=-visibleSize.height/2;\r\n\r\n        let rankNode=this.node.getChildByName(\"rankNode\");\r\n        rankNode.y=visibleSize.height/2-600;\r\n    }\r\n\r\n    init(){\r\n        this.place_1.active=true;\r\n        this.place_2.active=true;\r\n        this.place_3.active=true;\r\n        this.title.active=true;\r\n        this.rankNode.active=true;\r\n        this.selfRankInfoNode.active=true;\r\n        this.authTipNode.active=false;\r\n\r\n        this.initRank();\r\n        this.initFirst2ThirdHead();\r\n        this.initSelfRankInfo();\r\n    }\r\n\r\n    initData(totalRank,selfRank,selfChickenValue){\r\n        this.worldRankData=totalRank;\r\n        this.selfRank=selfRank;\r\n        this.selfChickenValue=selfChickenValue;\r\n    }\r\n\r\n    initFirst2ThirdHead(){\r\n        for(let i in this.worldRankData){\r\n            if(Number(i)-1==3){return};\r\n            let head= cc.instantiate(this.headPrefab);\r\n            head.parent=this.first2ThirdArr[Number(i)-1];\r\n            head.active=true;\r\n            head.y=-40;\r\n            head.scale=Number(i)-1>0?0.85:1;\r\n            head.getComponent(\"head\").setHead(this.worldRankData[i].Icon);\r\n        }\r\n    }\r\n\r\n    initRank(){\r\n        this.rankContent.setContentSize(cc.size(1080,200*10+400));\r\n        for(let i in this.worldRankData){\r\n            let rankItem=cc.instantiate(this.otherRankItem)\r\n            rankItem.parent=this.rankContent\r\n            rankItem.y=-200*Number(i)+100;\r\n            rankItem.getComponent(\"otherRank\").setName(Util.cutstr(this.worldRankData[i].nick,10));\r\n            rankItem.getComponent(\"otherRank\").setCity(this.worldRankData[i].City);\r\n            rankItem.getComponent(\"otherRank\").setRank(this.worldRankData[i].top);\r\n            rankItem.getComponent(\"otherRank\").setChickenCount(this.worldRankData[i].value);\r\n            rankItem.getComponent(\"otherRank\").setHeadImg(this.worldRankData[i].Icon);\r\n        }\r\n    }\r\n\r\n    initSelfRankInfo(){\r\n        let selfInfo=GameCtr.getInstance().getSelfInfoFromLocal();\r\n        if(!selfInfo){\r\n            return;\r\n        }\r\n        this.selfChickenValue=!this.selfChickenValue?0:this.selfChickenValue;\r\n        let selfRankInfoNode=this.node.getChildByName(\"selfRankInfoNode\");\r\n        let lb_name=selfRankInfoNode.getChildByName(\"lb_name\");\r\n        let lb_city=selfRankInfoNode.getChildByName(\"lb_city\");\r\n        let lb_rank=selfRankInfoNode.getChildByName(\"lb_rank\");\r\n        let lb_chickenCount=selfRankInfoNode.getChildByName(\"lb_chickenCount\");\r\n        let headImg=selfRankInfoNode.getChildByName(\"mask\").getChildByName(\"headImg\");\r\n\r\n        let rankStr=this.selfRank==0?\"无排名\":this.selfRank+\"\"\r\n        \r\n        lb_name.getComponent(cc.Label).string = Util.cutstr(selfInfo.nickName,10);\r\n        lb_city.getComponent(cc.Label).string = selfInfo.province;\r\n        lb_rank.getComponent(cc.Label).string = rankStr;\r\n        lb_chickenCount.getComponent(cc.Label).string = this.selfChickenValue;\r\n        this.loadHeadImg(headImg,selfInfo.avatarUrl)\r\n    }\r\n\r\n    loadHeadImg(headNode:cc.Node,headUrl:string){\r\n        let sp=headNode.getComponent(cc.Sprite);\r\n        cc.loader.load({\r\n            url: headUrl,\r\n            type: 'png'\r\n        }, (err, texture) => {\r\n            sp.spriteFrame = new cc.SpriteFrame(texture);\r\n        });\r\n    }\r\n\r\n\r\n\r\n    showAuthTip(){\r\n        this.authTipNode.active=true;\r\n        WXCtr.createUserInfoBtn();\r\n        WXCtr.onUserInfoBtnTap(this.init.bind(this));\r\n    }\r\n\r\n    close(){\r\n        GameCtr.getInstance().removeListener(\"getSelfInfoSuccess1\");\r\n        this.node.runAction(cc.sequence(\r\n            cc.scaleTo(0.2,0),\r\n            cc.callFunc(function(){\r\n                this.node.destroy();\r\n            }.bind(this))\r\n        ))\r\n    }\r\n}\r\n"]}