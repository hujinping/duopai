{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\Common/assets\\Script\\Common\\Util.ts"],"names":[],"mappings":";;;;AAAA;;GAEG;;AAEG,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAG1C;IAAA;IAgHA,CAAC;aAhHoB,IAAI;IAErB,4BAA4B;IACrB,YAAO,GAAd,UAAe,GAAG,EAAE,MAAM;QACtB,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC;YACX,GAAG,EAAE,MAAM;YACX,IAAI,EAAE,KAAK;SACd,EAAE,UAAC,GAAG,EAAE,OAAO;YACZ,GAAG,CAAC,WAAW,GAAG,IAAI,EAAE,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;;;OAIG;IACI,oBAAe,GAAtB,UAAuB,IAAY,EAAE,IAAa;QAC9C,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAClC,OAAO,IAAI,CAAC;SACf;QACD,IAAI,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QACvC,IAAI,MAAM,EAAE;YACR,OAAO,MAAM,CAAC;SACjB;QACD,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC7B,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,QAAQ,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YAClD,MAAM,GAAG,MAAI,CAAC,eAAe,CAAC,IAAI,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;YACrD,IAAI,MAAM,EAAE;gBACR,OAAO,MAAM,CAAC;aACjB;SACJ;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED;;;;;OAKG;IACI,cAAS,GAAhB,UAAiB,IAAqC,EAAE,IAAqB;QACzE,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;YAC1B,IAAI,GAAG,IAAI,GAAG,EAAE,CAAC;SACpB;QACD,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;QAClB,IAAI,IAAI,YAAY,EAAE,CAAC,IAAI,EAAE;YACzB,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;YACxC,IAAI,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;gBACnB,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;gBACpB,OAAO;aACV;YACD,IAAI,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;YAC5C,IAAI,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;gBACrB,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;aACzB;SACJ;aAAM;YACH,IAAI,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBAClB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAA;aACrB;SACJ;IACL,CAAC;IAED,iCAAiC;IAC1B,WAAM,GAAb,UAAc,GAAG,EAAE,GAAG;QAClB,IAAI,UAAU,GAAG,CAAC,CAAC;QACnB,IAAI,OAAO,GAAG,CAAC,CAAC;QAChB,IAAI,OAAO,GAAG,IAAI,MAAM,EAAE,CAAC;QAC3B,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC;QACrB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,EAAE,CAAC,EAAE,EAAE;YAC9B,IAAI,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YACtB,UAAU,EAAE,CAAC;YACb,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;gBACtB,kBAAkB;gBAClB,UAAU,EAAE,CAAC;aAChB;YACD,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAC5B,IAAI,UAAU,GAAG,GAAG,EAAE;gBAClB,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBAChC,OAAO,OAAO,CAAC;aAClB;SACJ;QACD,4BAA4B;QAC5B,0BAA0B;QAC1B,kBAAkB;QAClB,IAAI;QACJ,OAAO,GAAG,CAAC;IACf,CAAC;IAED,sBAAsB;IACf,sBAAiB,GAAxB;QACI,IAAI,IAAI,GAAW,EAAE,CAAC;QACtB,IAAI,MAAM,GAAG,IAAI,IAAI,EAAE,CAAC;QACxB,IAAI,IAAI,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC;QAChC,IAAI,KAAK,CAAC;QACV,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YAC9B,KAAK,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC;SACzC;aAAM;YACH,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;SACjC;QACD,IAAI,GAAG,CAAC;QACR,IAAI,MAAM,CAAC,OAAO,EAAE,GAAG,EAAE,EAAE;YACvB,GAAG,GAAG,GAAG,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC;SAChC;aAAM;YACH,GAAG,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC;SAC1B;QAED,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC;QACtC,OAAO,IAAI,CAAC;IAChB,CAAC;IA7GgB,IAAI;QADxB,OAAO;OACa,IAAI,CAgHxB;IAAD,WAAC;;CAhHD,AAgHC,IAAA;kBAhHoB,IAAI","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\Common","sourcesContent":["/**\r\n * 通用工具类\r\n */\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Util {\r\n\r\n    //根据图片路径设置sprite的spriteFrame\r\n    static loadImg(spr, imgUrl) {\r\n        cc.loader.load({\r\n            url: imgUrl,\r\n            type: 'png'\r\n        }, (err, texture) => {\r\n            spr.spriteFrame = new cc.SpriteFrame(texture);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 返回当前节点下第一个名为name的子节点\r\n     * @param name 节点名\r\n     * @param node 开始查找的根节点\r\n     */\r\n    static findChildByName(name: string, node: cc.Node): cc.Node {\r\n        if (!name || !node || !node.children) {\r\n            return null;\r\n        }\r\n        let result = node.getChildByName(name);\r\n        if (result) {\r\n            return result;\r\n        }\r\n        let children = node.children;\r\n        for (let index = 0; index < children.length; index++) {\r\n            result = Util.findChildByName(name, children[index]);\r\n            if (result) {\r\n                return result;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 设置节点文本\r\n     * \r\n     * @param text 文本\r\n     * @param node 节点\r\n     */\r\n    static setString(node: cc.Node | cc.Label | cc.EditBox, text: string | number) {\r\n        if (typeof text === \"number\") {\r\n            text = text + \"\";\r\n        }\r\n        text = text || \"\";\r\n        if (node instanceof cc.Node) {\r\n            let label = node.getComponent(cc.Label);\r\n            if (cc.isValid(label)) {\r\n                label.string = text;\r\n                return;\r\n            }\r\n            let editBox = node.getComponent(cc.EditBox);\r\n            if (cc.isValid(editBox)) {\r\n                editBox.string = text;\r\n            }\r\n        } else {\r\n            if (cc.isValid(node)) {\r\n                node.string = text\r\n            }\r\n        }\r\n    }\r\n\r\n    //裁剪字符串，超出指定长度之后显示...(每个中文字符长度为2）\r\n    static cutstr(str, len) {\r\n        let str_length = 0;\r\n        let str_len = 0;\r\n        let str_cut = new String();\r\n        str_len = str.length;\r\n        for (var i = 0; i < str_len; i++) {\r\n            let a = str.charAt(i);\r\n            str_length++;\r\n            if (escape(a).length > 4) {\r\n                //中文字符的长度经编码之后大于4 \r\n                str_length++;\r\n            }\r\n            str_cut = str_cut.concat(a);\r\n            if (str_length > len) {\r\n                str_cut = str_cut.concat(\"...\");\r\n                return str_cut;\r\n            }\r\n        }\r\n        // //如果给定字符串小于指定长度，则返回源字符串； \r\n        // if (str_length < len) {\r\n        //     return str;\r\n        // }\r\n        return str;\r\n    }\r\n\r\n    //获取年月日,格式为:2017-05-06\r\n    static getCurrTimeYYMMDD() {\r\n        var time: string = \"\";\r\n        var myDate = new Date();\r\n        var year = myDate.getFullYear();\r\n        var month;\r\n        if ((myDate.getMonth() + 1) < 10) {\r\n            month = \"0\" + (myDate.getMonth() + 1);\r\n        } else {\r\n            month = myDate.getMonth() + 1;\r\n        }\r\n        var day;\r\n        if (myDate.getDate() < 10) {\r\n            day = \"0\" + myDate.getDate();\r\n        } else {\r\n            day = myDate.getDate();\r\n        }\r\n\r\n        time = year + \"-\" + month + \"-\" + day;\r\n        return time;\r\n    }\r\n\r\n    \r\n}\r\n    \r\n"]}