{"version":3,"sources":["Ranking.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["import RankingCell from \"./RankingCell\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Ranking extends cc.Component {\r\n\r\n    @property(cc.Node)\r\n    ndContent: cc.Node = null;\r\n    @property(cc.Prefab)\r\n    pfCell: cc.Prefab = null;\r\n\r\n    private gradeList = [\"王者\", \"宗师\", \"大师\", \"进阶\", \"入门\", \"渣渣\"];\r\n    private level = 0;\r\n\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    loadRanking(data) {\r\n        for (let i = 0; i < data.length; i++) {\r\n            let cell = cc.instantiate(this.pfCell);\r\n            this.ndContent.addChild(cell);\r\n            let info = data[i];\r\n            let comp = cell.getComponent(RankingCell);\r\n            comp.setData(i, info, true);\r\n        }\r\n    }\r\n\r\n    loadOverRanking(data) {\r\n        this.level = 0;\r\n        this.setTitle();\r\n        for (let i = 0; i < data.length; i++) {\r\n            let cell = cc.instantiate(this.pfCell);\r\n            let info = data[i];\r\n            let comp = cell.getComponent(RankingCell);\r\n            let k = comp.setOverData(i, info);\r\n            if (this.level != k) {\r\n                if (i == data.length - 1) {\r\n                    k = 5;\r\n                }\r\n                while (true) {\r\n                    this.level++;\r\n                    this.setTitle();\r\n                    if (this.level >= k) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            this.ndContent.addChild(cell);\r\n        }\r\n    }\r\n\r\n    setTitle() {\r\n        let cell = cc.instantiate(this.pfCell);\r\n        this.ndContent.addChild(cell);\r\n        let comp = cell.getComponent(RankingCell);\r\n        comp.setTitle(this.gradeList[this.level]);\r\n    }\r\n\r\n    clear() {\r\n        this.ndContent.removeAllChildren();\r\n    }\r\n\r\n    onLoad() {\r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}