{"version":3,"sources":["HttpCtr.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\Controller","sourcesContent":["import Http from \"../Common/Http\";\r\nimport UserManager from \"../Common/UserManager\";\r\nimport WXCtr from \"./WXCtr\";\r\nimport GameCtr from \"./GameCtr\";\r\nimport ViewManager from \"../Common/ViewManager\";\r\nimport Util from \"../Common/Util\";\r\n/**\r\n * 所有Http请求统一控制\r\n */\r\nconst { ccclass, property } = cc._decorator;\r\n@ccclass\r\nexport default class HttpCtr {\r\n\r\n    //登录游戏\r\n    static login(code,showWorldRanking=false) {\r\n        Http.send({\r\n            url: Http.UrlConfig.LOGIN,\r\n            success: (resp) => {\r\n                if (resp.ret == 1) {\r\n                    console.log(\"log-------------http:login--->resp=:\", resp);\r\n                    UserManager.user_id = resp.data.uid;\r\n                    UserManager.voucher = resp.data.voucher\r\n                    HttpCtr.getUserInfo(null,showWorldRanking);\r\n                    HttpCtr.getSettingConfig();\r\n                    HttpCtr.chanelCheck(WXCtr.launchOption.query);\r\n                    \r\n                    if (WXCtr.launchOption.query) {\r\n                        HttpCtr.invitedByFriend(WXCtr.launchOption.query);\r\n                    }\r\n                }\r\n            },\r\n            data: {\r\n                code: code\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\n    //获取分享配置\r\n    static getShareConfig() {\r\n        Http.send({\r\n            url: Http.UrlConfig.GET_SHARE,\r\n            success: (resp) => {\r\n                console.log(\"获取分享配置信息\", resp);\r\n                WXCtr.shareTitle = resp.data.share_title;\r\n                WXCtr.shareImg = resp.data.share_img;\r\n                WXCtr.setShareAppMessage();\r\n            },\r\n            data: {\r\n                share_type: \"index\",\r\n            }\r\n        });\r\n    }\r\n\r\n    //获取个人信息\r\n    static getUserInfo(callBack = null,showWorldRanking=false) {\r\n        Http.send({\r\n            url: Http.UrlConfig.GET_USERINFO,\r\n            success: (resp) => {\r\n                console.log(\"log-------getUserInfo--->resp=:\",resp);\r\n                if (resp.success == Http.Code.OK) {\r\n                    UserManager.user = resp.user;\r\n                    GameCtr.realMoney=resp.user.cash;\r\n                    console.log(\"log--------GameCtr.realMoney=:\",GameCtr.realMoney);\r\n                    if (callBack) {\r\n                        callBack(resp.user);\r\n                    }\r\n                    if(showWorldRanking){\r\n                        console.log(\"log---------排行授权  刷新排行\");\r\n                        GameCtr.getInstance().getRanking().showWorldRanking();\r\n                        GameCtr.getInstance().getRanking().initSelfInfo();\r\n                    }\r\n                }\r\n            },\r\n\r\n            data: {\r\n                uid: UserManager.user_id,\r\n                voucher: UserManager.voucher\r\n            }\r\n        });\r\n    }\r\n\r\n    //保存自己的信息（头像，昵称等）到服务器\r\n    static saveUserInfo(data) {\r\n        console.log(\"log---------------saveUserInfo-----  data=:\", UserManager.user_id,data);\r\n        Http.send({\r\n            url: Http.UrlConfig.SET_USER_DATA,\r\n            data:\r\n            {\r\n                uid: UserManager.user_id,\r\n                voucher: UserManager.voucher,\r\n                encryptedData: data.encryptedData,\r\n                iv: data.iv\r\n            },\r\n            success: () => {\r\n                console.log(\"log-----------------上传信息成功------------\");\r\n            }\r\n        });\r\n    }\r\n\r\n    //渠道验证\r\n    static chanelCheck(query) {\r\n        Http.send({\r\n            url: Http.UrlConfig.CHANEL_RECORD,\r\n            data: {\r\n                //uid: ,\r\n                channel_id: query.channel_id,\r\n                cuid: query.cuid,\r\n                cvoucher: query.cvoucher,\r\n                cid: query.cid,\r\n                pid: query.pid\r\n            },\r\n            success: (resp) => {\r\n                console.log(\"渠道验证成功\", resp);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    static getSettingConfig() {\r\n        Http.send({\r\n            url: Http.UrlConfig.GET_SETTING,\r\n            success: (resp) => {\r\n                console.log(\"获取游戏配置=：\", resp);\r\n                GameCtr.isAudited =resp.ok;\r\n                console.log(\"获取游戏配置 GameCtr.isAudited=：\", GameCtr.isAudited);\r\n                GameCtr.setting = resp;\r\n                GameCtr.advTime =resp.advTime;\r\n                GameCtr.advVedioTime=resp.advVideoTime;\r\n                GameCtr.isGetSetting=true;\r\n                GameCtr.getInstance().getLoding().refreshMoreNewGame();\r\n                let vedioInfo=localStorage.getItem(\"VideoTimes\");\r\n                if(!vedioInfo ){\r\n                    GameCtr.vedioTimes=GameCtr.setting.advSum;\r\n                }else {\r\n                    let obj=JSON.parse(vedioInfo);\r\n                    \r\n                    if(obj.day!=Util.getCurrTimeYYMMDD()){\r\n                        GameCtr.vedioTimes=GameCtr.setting.advSum;\r\n                    }else{\r\n                        GameCtr.vedioTimes=obj.times;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    //视频渠道验证\r\n    static videoCheck(query) {\r\n        Http.send({\r\n            url: Http.UrlConfig.VideoOpen,\r\n            data: {\r\n                user_id: UserManager.user_id,\r\n                channel_id: query.channel_id,\r\n                cuid: query.cuid,\r\n                cvoucher: query.cvoucher,\r\n                cid: query.cid,\r\n                pid: query.pid\r\n            }\r\n        });\r\n    }\r\n\r\n    //分享到群检测\r\n    static shareGroupCheck(encryptedData, iv, callback) {\r\n        Http.send({\r\n            url: Http.UrlConfig.SHARE_GROUP,\r\n            data: {\r\n                uid: UserManager.user_id,\r\n                voucher: UserManager.voucher,\r\n                encrypted_data: encryptedData,\r\n                iv: iv\r\n            },\r\n            success: (resp) => {\r\n                if (resp.ret == 1) {\r\n                    if (callback) {\r\n                        callback();\r\n                    }\r\n                }else if (resp.ret == 0) {\r\n                    GameCtr.getInstance().getGame().showToast(resp.msg);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // 获取广告配置\r\n    static getAdConfig() {\r\n        Http.send({\r\n            url: Http.UrlConfig.ADConfig,\r\n            success: (res) => {\r\n                console.log(\"获取广告配置\", res);\r\n                WXCtr.setVideoAd();\r\n                if (res.data.advid) {\r\n                    WXCtr.bannerId = res.data.advid;\r\n                    WXCtr.setBannerAd(100,300);\r\n                }\r\n            },\r\n            data: {\r\n                uid: UserManager.user_id,\r\n                voucher: UserManager.voucher\r\n            }\r\n        });\r\n    }\r\n\r\n    // 邀请好友\r\n    static invitedByFriend(query) {\r\n        Http.send({\r\n            url: Http.UrlConfig.INVITED_BY_FRIEND,\r\n            success: (res) => {\r\n                console.log(\"log--------------invitedByFriend=:\",res);\r\n            },\r\n            data: {\r\n                uid: UserManager.user_id,\r\n                voucher: UserManager.voucher,\r\n                touid: query.invite\r\n            }\r\n        });\r\n    }\r\n\r\n    //邀请好友结果\r\n    static getInviteResult(callback = null) {\r\n        Http.send({\r\n            url: Http.UrlConfig.SEEK_LOG,\r\n            success: (res) => {\r\n                console.log('log-----------邀请好友结果-=:', res);\r\n                if (callback) {\r\n                    callback(res.data);\r\n                }\r\n            },\r\n            data: {\r\n                uid: UserManager.user_id,\r\n                voucher: UserManager.voucher,\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    //渠道验证\r\n    static chanelCheck1(query) {\r\n        console.log(\"log----------渠道验证--------query=\",query);\r\n        Http.send({\r\n            url: Http.UrlConfig.CHANEL_RECORD,\r\n            data: {\r\n                uid:UserManager.user_id,\r\n                voucher: UserManager.voucher,\r\n                channel_id: query.channel_id,\r\n            },\r\n            success: (resp) => {\r\n                console.log(\"渠道验证成功\", resp);\r\n            }\r\n        });\r\n    }\r\n\r\n    //关注福利\r\n    static channelGift(query) {\r\n        if (query.channel_id == 88 && query.guanzu) {\r\n            //根据自己实际需求处理\r\n        }\r\n    }\r\n\r\n    //获取签到列表\r\n    static getLoginAwardList(callback = null) {\r\n        Http.send({\r\n            url: Http.UrlConfig.GET_TODAY,\r\n            success: (res) => {\r\n                if (callback) {\r\n                    callback(res)\r\n                }\r\n            },\r\n            data: {\r\n                uid: UserManager.user_id,\r\n                voucher: UserManager.voucher\r\n            }\r\n        });\r\n    }\r\n\r\n    //签到\r\n    static sign(callback) {\r\n        Http.send({\r\n            url: Http.UrlConfig.DO_TODAY,\r\n            success: (res) => {\r\n                console.log(\"log-------DO_TODAY-res=:\", res);\r\n                if (res.m) {\r\n                    callback(res);\r\n                } else {\r\n                    GameCtr.getInstance().getGame().showToast(res.msg);\r\n                }\r\n            },\r\n            data: {\r\n                uid: UserManager.user_id,\r\n                voucher: UserManager.voucher\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    static getRankList(type, callback) {\r\n        Http.send({\r\n            url: Http.UrlConfig.GET_RANK_LIST,\r\n            success: (res) => {\r\n                if (res.code == Http.Code.OK) {\r\n                    callback(true);\r\n                } else {\r\n                    ViewManager.toast(res.msg);\r\n                    callback(false);\r\n                }\r\n            },\r\n            data: {\r\n                uid: UserManager.user_id,\r\n                type: type\r\n            }\r\n        });\r\n    }\r\n\r\n    static setGold(_gold) {\r\n        Http.send({\r\n            url: Http.UrlConfig.SET_GOLD_DATA,\r\n            success: (res) => {\r\n                if (res.ret == 1) {\r\n                    console.log(\"log-----------金币上报成功--------------_gold=:\", _gold);\r\n                } else {\r\n                    ViewManager.toast(res.msg);\r\n                }\r\n            },\r\n            data: {\r\n                uid: UserManager.user_id,\r\n                voucher: UserManager.voucher,\r\n                gold: _gold\r\n            }\r\n        });\r\n    }\r\n\r\n    static setUserDataState(idx, value) {\r\n        let sendData = {\r\n            uid: UserManager.user_id,\r\n            voucher: UserManager.voucher\r\n        };\r\n        let key = \"data_\" + idx;\r\n        sendData[key] = value;\r\n        console.log(\"log---------sendData=:\",sendData);\r\n        Http.send({\r\n            url: Http.UrlConfig.SET_GOLD_DATA,\r\n            success: (res) => {\r\n                if (res.ret == 1) {\r\n                    console.log(\"log------上报领取邀请奖励成功\");\r\n                } else {\r\n                    ViewManager.toast(res.msg);\r\n                }\r\n            },\r\n            data: sendData\r\n        });\r\n    }\r\n\r\n\r\n    static openRed(clickID,callFunc){\r\n        Http.send({\r\n            url: Http.UrlConfig.OPEN_RED,\r\n            success: (res) => {\r\n                if (res.m) {\r\n                    callFunc(res.m);\r\n                } else {\r\n                    GameCtr.getInstance().getGame().showToast(res.msg);\r\n                }\r\n            },\r\n            data: {\r\n                uid: UserManager.user_id,\r\n                voucher: UserManager.voucher,\r\n                clickid:clickID\r\n            }\r\n        });\r\n    }\r\n\r\n    \r\n    static doExchange(phoneNumber){\r\n        Http.send({\r\n            url: Http.UrlConfig.DO_EXCHANGE,\r\n            success: (res) => {\r\n                if(res.ret!=1){\r\n                    GameCtr.getInstance().getGame().showToast(res.msg);\r\n                }else{\r\n                    GameCtr.realMoney-=1000;\r\n                    GameCtr.getInstance().getGame().showToast(\"兑换成功\");\r\n                    GameCtr.getInstance().getGame().setRealMoney(0);\r\n\r\n                    let exchange1= cc.find(\"Canvas\").getChildByName(\"exchange1\");\r\n                    if(exchange1){\r\n                        exchange1.getComponent(\"exchange1\").setRealyMoney();\r\n                        let exchange2= exchange1.getChildByName(\"exchange2\");\r\n                        if(exchange2){\r\n                            exchange2.getComponent(\"exchange2\").setRealMoney();\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            data: {\r\n                uid: UserManager.user_id,\r\n                voucher: UserManager.voucher,\r\n                rewardid:1,\r\n                exchangeUser:phoneNumber,\r\n            }\r\n        });\r\n    }\r\n\r\n    static openClick(_clickid,_appid=null){\r\n        if(!GameCtr.setting){return}\r\n        if(_appid || GameCtr.setting.onclick){\r\n            Http.send({\r\n                url: Http.UrlConfig.OPEN_CLICK,\r\n                success: (res) => {\r\n                    if(res.ret!=1){\r\n                        GameCtr.getInstance().getGame().showToast(res.msg);\r\n                    }\r\n                },\r\n                data: {\r\n                    uid: UserManager.user_id,\r\n                    voucher: UserManager.voucher,\r\n                    clickid:_clickid,\r\n                    appid:_appid\r\n                }\r\n            });     \r\n        }\r\n    }\r\n\r\n    static getCash(callback){\r\n        Http.send({\r\n            url: Http.UrlConfig.GET_CASH,\r\n            success: (res) => {\r\n                if (res.m) {\r\n                    callback(res);\r\n                } else {\r\n                    GameCtr.getInstance().getGame().showToast(res.msg);\r\n                }\r\n            },\r\n\r\n            data: {\r\n                uid: UserManager.user_id,\r\n                voucher: UserManager.voucher,\r\n            }\r\n        });\r\n    }\r\n\r\n    static pushMsg(callback){\r\n        Http.send({\r\n            url: Http.UrlConfig.PUSH_MSG,\r\n            success: (res) => {\r\n                console.log(\"log---------pushMsg -->res=:\",res);\r\n                if(res.ret==1){\r\n                    callback(res.data);\r\n                }\r\n            },\r\n            data: {\r\n                uid: UserManager.user_id,\r\n                voucher: UserManager.voucher,\r\n            }\r\n        });\r\n    }\r\n}\r\n"]}