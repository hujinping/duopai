{"version":3,"sources":["honeycomb.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../../assets/Script/UI/component","sourcesContent":["import GameCtr from \"../../Controller/GameCtr\";\r\nimport AudioManager from \"../../Common/AudioManager\";\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n    _level=null;\r\n    _unlockNum=null;\r\n    _lb_level=null;\r\n    _lb_unlockTip=null;\r\n    _btn_upgrade=null;\r\n    _word_unlock=null;\r\n    _word_levelUp=null;\r\n    _word_levelFull=null;\r\n    _icon_Arrow=null;\r\n    _combsUnlock=null;\r\n    _totalComb=null;\r\n    _beeNode=null;\r\n    _unlock=false;\r\n    _speedUpTime=-1;\r\n    _combPosArr=[];\r\n    _interval=0;\r\n    _speed=1\r\n    _hadRandom=false;\r\n    _isWorking=true;\r\n    _isActioning=false;\r\n\r\n\r\n    @property(cc.Prefab)\r\n    bee:cc.Prefab=null;\r\n\r\n    @property(cc.Prefab)\r\n    unlockcomb:cc.Prefab=null;\r\n    \r\n    @property(cc.Prefab)\r\n    combUpgrade:cc.Prefab=null;\r\n\r\n    @property(cc.Prefab)\r\n    bubbleHoney:cc.Prefab=null;\r\n\r\n    @property(cc.Prefab)\r\n    unlockCombTip:cc.Prefab=null;\r\n\r\n    @property(cc.Prefab)\r\n    flyBees:cc.Prefab[]=[];\r\n\r\n    onLoad(){\r\n        this.initData();\r\n        this.initNode();\r\n        this._combsUnlock=JSON.parse(GameCtr.getInstance().getCombsUnlock());\r\n    }\r\n\r\n    initData(){\r\n        for(let i=0;i<10;i++){\r\n            for(let j=0;j<3;j++){\r\n                if(j%2==0){\r\n                    this._combPosArr.push(cc.p(-358+75*i,19-60*j));\r\n                }else{\r\n                    this._combPosArr.push(cc.p(-397+75*i,19-60*j));\r\n                } \r\n            }\r\n        }\r\n    }\r\n\r\n    initNode(){\r\n        this._beeNode=this.node.getChildByName(\"beeNode\");\r\n        this._lb_level=this.node.getChildByName(\"lb_level\");\r\n        this._lb_unlockTip=this.node.getChildByName(\"lb_unlockTip\");\r\n        this._totalComb=this.node.getChildByName(\"totalComb\");\r\n        this._btn_upgrade=this.node.getChildByName(\"btn_upgrade\");\r\n        this._icon_Arrow=this._btn_upgrade.getChildByName(\"arrow\");\r\n        this._word_unlock=this._btn_upgrade.getChildByName(\"word_unlock\");\r\n        this._word_levelUp=this._btn_upgrade.getChildByName(\"word_LeveUP\");\r\n        this._word_levelFull=this._btn_upgrade.getChildByName(\"word_levelFull\");\r\n\r\n        this._lb_unlockTip.active=false;\r\n        this.showUnlockBtn(false);\r\n        this._beeNode.setLocalZOrder(2);\r\n    }\r\n\r\n\r\n\r\n    initEvent(){\r\n        GameCtr.getInstance().addListener(\"moneyUpdate\"+this._level,this.onMoneyUpdate.bind(this));\r\n    }\r\n\r\n    initBtnState(){\r\n        console.log(\"log-----------------initBtnState this._level=:\",this._level);\r\n        let preComb=GameCtr.getInstance().getGame().getComb(this._level-1);\r\n        if( preComb && !preComb.getComponent(\"honeycomb\").getUnlock()){return} //如果上一级蜂巢未解锁，这级蜂巢就不能解锁\r\n\r\n        if(this._unlockNum==0 && !this._unlock){// 此蜂巢还未解锁\r\n            if(GameCtr.level>=GameCtr.combConfig[this._level-1].needLevel){//此蜂巢满足解锁条件\r\n                this.showUnlockBtn(true);\r\n            }else{//此蜂巢不满足解锁条件\r\n                this.showUnlockBtn(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    setLevel(level,unlockNum,unlock){\r\n        this._level=level;\r\n        this._unlock=unlock;\r\n        this._unlockNum=unlockNum;\r\n        this._lb_level.getComponent(cc.Label).string=level+'';\r\n        this._lb_unlockTip.getComponent(cc.Label).string=\"玩家等级\"+GameCtr.combConfig[this._level-1].needLevel+\"级解锁\";\r\n        for(let i=0;i<unlockNum;i++){\r\n            this.unlockComb(i)\r\n            this.createBee(i);\r\n        }\r\n        this.initBtnState();\r\n        this.updateBtnState();\r\n        this.initEvent();\r\n        if(unlockNum>0){\r\n            this.setUnlock(true);\r\n            \r\n        }\r\n    }\r\n\r\n    setUnlock(unlock){\r\n        this._unlock=unlock;\r\n        console.log(\"log--------this._unlock this._level=:\",this._unlock,this._level)\r\n    }\r\n\r\n    getUnlock(){\r\n        console.log(\"log-----getUnlock  this._unlock this._level=:\",this._unlock,this._level);\r\n        return this._unlock;\r\n    }\r\n    \r\n    initBtn(){\r\n        this.initBtnEvent(this._btn_upgrade);\r\n        this.initBtnEvent(this._totalComb);\r\n    }\r\n\r\n    initBtnEvent(btn){\r\n        btn.on(cc.Node.EventType.TOUCH_END,(e)=>{\r\n            if(e.target.getName()==\"btn_upgrade\"){\r\n                if(this._unlockNum==0 && !this._unlock){//解锁蜂巢\r\n                    this.onUnlockComb();\r\n                }else{//升级蜂巢\r\n                    this.onUpgradeComb();\r\n                    if(!GameCtr.getInstance().getGame().isGuideStepOver(2)){\r\n                        GameCtr.getInstance().getGame().completeGuideStep(this.node,2);\r\n                    }\r\n                }\r\n                AudioManager.getInstance().playSound(\"audio/open_panel\");\r\n            }else if(e.target.getName()==\"totalComb\"){\r\n                this._speedUpTime=Date.now();\r\n            }\r\n        })\r\n    }\r\n\r\n    onUnlockComb(){\r\n        if(cc.find(\"Canvas\").getChildByName(\"unlockCombTip\")){return;}\r\n        let unlockCombTip=cc.instantiate(this.unlockCombTip);\r\n        unlockCombTip.parent=cc.find(\"Canvas\");\r\n        unlockCombTip.y=-1218;\r\n        unlockCombTip.runAction(cc.moveBy(0.4,cc.p(0,1218)).easing(cc.easeElasticOut(3.0)));\r\n        unlockCombTip.getComponent(\"unlockCombTip\").init(this._level);\r\n        GameCtr.getInstance().getGame().setMaskVisit(true);\r\n        this._unlock=true;\r\n        GameCtr.combsUnlock.push({level:this._unlockNum,unlock:this._unlock});\r\n        GameCtr.getInstance().setCombsUnlock();\r\n    }\r\n\r\n    \r\n\r\n    onUpgradeComb(){\r\n        if(cc.find(\"Canvas\").getChildByName(\"combUpgrade\")){return;}\r\n        let combUpgrade=cc.instantiate(this.combUpgrade);\r\n        combUpgrade.parent=cc.find(\"Canvas\");\r\n        combUpgrade.getComponent(\"combUpgrade\").init(this._level,this._unlockNum);\r\n        combUpgrade.y=-1218;\r\n        combUpgrade.runAction(cc.moveBy(0.4,cc.p(0,1218)).easing(cc.easeElasticOut(3.0)));\r\n        GameCtr.getInstance().getGame().setMaskVisit(true);\r\n        GameCtr.getInstance().getGame().setCombUpgrade(combUpgrade);\r\n    }\r\n\r\n    upgrade(){\r\n        console.log(\"log---------GameCtr.combsUnlock this._level=:\",GameCtr.combsUnlock,this._level);\r\n        this.unlockComb(this._unlockNum)\r\n        this.createBee(this._unlockNum)\r\n        GameCtr.money-=GameCtr.combConfig[this._level-1].levelUpCost+GameCtr.combConfig[this._level-1].upMatrix*(this._unlockNum-1)\r\n        GameCtr.getInstance().getLevel().setMoney();\r\n        this._unlockNum++;\r\n\r\n        GameCtr.combsUnlock[this._level-1].level++;\r\n        GameCtr.getInstance().setCombsUnlock();\r\n        this.updateBtnState();\r\n        this._combsUnlock=JSON.parse(GameCtr.getInstance().getCombsUnlock());\r\n    }\r\n\r\n    unlockComb(index){\r\n        let comb=cc.instantiate(this.unlockcomb);\r\n        comb.parent=this.node;\r\n        comb.setLocalZOrder(0);\r\n        comb.x=this._combPosArr[index].x;\r\n        comb.y=this._combPosArr[index].y;\r\n    }\r\n\r\n    createBee(index){\r\n        this.node.runAction(cc.sequence(\r\n            cc.delayTime(Math.random()*3),\r\n            cc.callFunc(()=>{\r\n                let flyBee=cc.instantiate(this.flyBees[this._level-1]);\r\n                flyBee.parent=this._beeNode;\r\n                flyBee.tag=index;\r\n                flyBee.setLocalZOrder(1);\r\n                flyBee.x= this._combPosArr[index].x+292;\r\n                flyBee.y= this._combPosArr[index].y+39;\r\n                let sp_skeleton=flyBee.getComponent(sp.Skeleton);\r\n                sp_skeleton.setEventListener((e)=>{\r\n                    this.doBubbleHoney();\r\n                })\r\n            })\r\n        ))\r\n    }\r\n\r\n    showFullFillBtn(){\r\n        this._btn_upgrade.active=true;\r\n        this._lb_unlockTip.active=false;\r\n        this._word_unlock.active=false;\r\n        this._word_levelUp.active=false;\r\n        this._word_levelFull.active=true;\r\n        this.enabledBtn(false);\r\n    }\r\n\r\n    showUnlockBtn(isEffectable){\r\n        this._btn_upgrade.active=isEffectable;\r\n        this._lb_unlockTip.active=!isEffectable;\r\n        this._word_unlock.active=true;\r\n        this._word_levelUp.active=false;\r\n        this._word_levelFull.active=false;\r\n        this.enabledBtn(isEffectable);\r\n        //this._btn_upgrade.getComponent(cc.Button).interactable=isEffectable;\r\n    }\r\n\r\n    doBubbleHoney(){\r\n        let bubbleHoney=null;\r\n        if(GameCtr.honeyPool.size() > 0){\r\n            bubbleHoney=GameCtr.honeyPool.get();\r\n            bubbleHoney.parent=this.node.parent;\r\n            bubbleHoney.x=-500+(Math.random()-0.5)*60;\r\n            bubbleHoney.y=this.node.y-50;\r\n            bubbleHoney.runAction(cc.sequence(\r\n                cc.moveTo(0.4*this._level,cc.p(bubbleHoney.x,0)),\r\n                cc.callFunc(()=>{\r\n                    GameCtr.honeyPool.put(bubbleHoney);\r\n                    this.updateHoneyValue();\r\n                })\r\n            ))\r\n        }\r\n    }\r\n\r\n    isSpeedUp(){\r\n        return this._speedUpTime>0;\r\n    }\r\n\r\n    updateHoneyValue(){\r\n        GameCtr.honeyValue+=GameCtr.combConfig[this._level-1].initialIncome+\r\n                             this._combsUnlock[this._level-1].level*GameCtr.combConfig[this._level-1].incomeMatrix;\r\n        //GameCtr.getInstance().getManufacture().setHoneyValue();\r\n        GameCtr.getInstance().setHoneyValue();\r\n    }\r\n\r\n    updateBtnState(){\r\n        if(this._unlockNum==0 && !this._unlock){// 此蜂巢还未解锁\r\n\r\n        }else if(this._unlockNum<GameCtr.maxPerCombLevel){ //此蜂巢已经解锁,但未满级\r\n            this._btn_upgrade.active=true;\r\n            this._word_unlock.active=false;\r\n            this._lb_unlockTip.active=false;\r\n            this._word_levelUp.active=true;\r\n            if(GameCtr.money>=GameCtr.combConfig[this._level-1].levelUpCost+GameCtr.combConfig[this._level-1].upMatrix*(this._unlockNum-1)){\r\n                this.enabledBtn(true);\r\n                //新手引导2\r\n                if(!this.node.getChildByTag(GameCtr.tipHandTag+2) &&! GameCtr.getInstance().getGame().isGuideStepOver(2)){\r\n                    GameCtr.getInstance().getGame().showGuideStep2();\r\n                }\r\n            }else{\r\n                this.enabledBtn(false);\r\n                if(!GameCtr.getInstance().getGame().isGuideStepOver(2)){\r\n                    GameCtr.getInstance().getGame().closeGuideStep(this.node,2);\r\n                }\r\n            }\r\n        }else{//蜂巢满级\r\n            this.showFullFillBtn();\r\n        }\r\n        \r\n    }\r\n\r\n    enabledBtn(isEffectable){\r\n        this._btn_upgrade.getComponent(cc.Button).interactable=isEffectable;\r\n        this._icon_Arrow.active=isEffectable;\r\n\r\n        if(this._icon_Arrow.active&&!this._isActioning){\r\n            this._isActioning=true;\r\n            this._btn_upgrade.runAction(cc.repeatForever(cc.sequence(\r\n                cc.scaleTo(0.3,1.1),\r\n                cc.scaleTo(0.3,1.0)\r\n            )))\r\n        }else{\r\n            this._btn_upgrade.stopAllActions();\r\n            this._isActioning=false;\r\n        }\r\n    }\r\n\r\n    stopWork(){\r\n        this._beeNode.removeAllChildren();\r\n        this._isWorking=false;\r\n    }\r\n\r\n    startWork(dt){\r\n        if(!this._isWorking){\r\n            for (let i=0;i<this._unlockNum;i++){\r\n                if(this._beeNode.getChildByTag(i)){return}\r\n                this.createBee(i);\r\n            }\r\n            this._isWorking=true;\r\n        }\r\n    }\r\n\r\n\r\n    onMoneyUpdate(){\r\n        this.updateBtnState();\r\n    }\r\n\r\n\r\n    setSpeedRate(rate){\r\n        for(let i=0;i<this._beeNode.children.length;i++){\r\n            let sp_skeleton=this._beeNode.children[i].getComponent(sp.Skeleton);\r\n            sp_skeleton.timeScale=rate;\r\n        }\r\n    }\r\n}\r\n"]}