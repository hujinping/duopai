{"version":3,"sources":["honeycomb.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../../assets/Script/UI/component","sourcesContent":["import GameCtr from \"../../Controller/GameCtr\";\r\nimport AudioManager from \"../../Common/AudioManager\";\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n    _level=null;\r\n    _unlockNum=null;\r\n    _lb_level=null;\r\n    _btn_upgrade=null;\r\n    _word_unlock=null;\r\n    _word_levelUp=null;\r\n    _word_levelFull=null;\r\n    _combsUnlock=null;\r\n    _totalComb=null;\r\n    _beeNode=null;\r\n    _canUnlock=false;\r\n    _speedUpTime=-1;\r\n    _combPosArr=[];\r\n    _interval=0;\r\n    _speed=1\r\n\r\n    @property(cc.Prefab)\r\n    bee:cc.Prefab=null;\r\n\r\n    @property(cc.Prefab)\r\n    unlockcomb:cc.Prefab=null;\r\n    \r\n    @property(cc.Prefab)\r\n    combUpgrade:cc.Prefab=null;\r\n\r\n    @property(cc.Prefab)\r\n    bubbleHoney:cc.Prefab=null;\r\n\r\n    onLoad(){\r\n        this.initData();\r\n        this.initNode();\r\n        this._combsUnlock=GameCtr.getInstance().getCombsUnlock();\r\n    }\r\n\r\n    initData(){\r\n        for(let i=0;i<10;i++){\r\n            for(let j=0;j<3;j++){\r\n                if(j%2==0){\r\n                    this._combPosArr.push(cc.p(-358+75*i,19-60*j));\r\n                }else{\r\n                    this._combPosArr.push(cc.p(-397+75*i,19-60*j));\r\n                } \r\n            }\r\n        }\r\n    }\r\n\r\n    initNode(){\r\n        this._beeNode=this.node.getChildByName(\"beeNode\");\r\n        this._lb_level=this.node.getChildByName(\"lb_level\");\r\n        this._totalComb=this.node.getChildByName(\"totalComb\");\r\n        this._btn_upgrade=this.node.getChildByName(\"btn_upgrade\");\r\n        this._word_unlock=this._btn_upgrade.getChildByName(\"word_unlock\");\r\n        this._word_levelUp=this._btn_upgrade.getChildByName(\"word_LeveUP\");\r\n        this._word_levelFull=this._btn_upgrade.getChildByName(\"word_levelFull\");\r\n\r\n        this._beeNode.setLocalZOrder(2);\r\n    }\r\n\r\n    setLevel(level,unlockNum){\r\n        this._level=level;\r\n        this._unlockNum=unlockNum;\r\n        this._lb_level.getComponent(cc.Label).string=level+'';\r\n\r\n        for(let i=0;i<unlockNum;i++){\r\n            this.unlockComb(i)\r\n            this.createBee(i,true);\r\n        }\r\n        this.updateBtnState();\r\n    }\r\n\r\n    setCanUnlock(canUnlock){\r\n        this._canUnlock=canUnlock;\r\n    }\r\n    \r\n    initBtn(){\r\n        this.initBtnEvent(this._btn_upgrade);\r\n        this.initBtnEvent(this._totalComb);\r\n    }\r\n\r\n    initBtnEvent(btn){\r\n        btn.on(cc.Node.EventType.TOUCH_END,(e)=>{\r\n            if(e.target.getName()==\"btn_upgrade\"){\r\n                if(cc.find(\"Canvas\").getChildByName(\"combUpgrade\")){return;}\r\n                let combUpgrade=cc.instantiate(this.combUpgrade);\r\n                combUpgrade.parent=cc.find(\"Canvas\");\r\n                combUpgrade.getComponent(\"combUpgrade\").init(this._level,this._unlockNum);\r\n                combUpgrade.y=-1218;\r\n                combUpgrade.runAction(cc.moveBy(0.4,cc.p(0,1218)).easing(cc.easeElasticOut(3.0)));\r\n                GameCtr.getInstance().getGame().setMaskVisit(true);\r\n                GameCtr.getInstance().getGame().setCombUpgrade(combUpgrade);\r\n                AudioManager.getInstance().playSound(\"audio/btn_click\");\r\n            }else if(e.target.getName()==\"totalComb\"){\r\n                this._speedUpTime=Date.now();\r\n            }\r\n        })\r\n    }\r\n\r\n    upgrade(){\r\n        if(this._unlockNum==0){\r\n            GameCtr.combsUnlock[this._level-1]=0;\r\n        }\r\n        this.unlockComb(this._unlockNum)\r\n        this.createBee(this._unlockNum,false)\r\n        GameCtr.money-=GameCtr.combConfig[this._level-1].levelUpCost+GameCtr.combConfig[this._level-1].upMatrix*this._unlockNum\r\n        GameCtr.getInstance().getLevel().setMoney();\r\n        this._unlockNum++;\r\n        GameCtr.combsUnlock[this._level-1]++;\r\n        GameCtr.getInstance().setCombsUnlock();\r\n        this.updateBtnState();\r\n        this._combsUnlock=GameCtr.getInstance().getCombsUnlock();\r\n    }\r\n\r\n    unlockComb(index){\r\n        let comb=cc.instantiate(this.unlockcomb);\r\n        comb.parent=this.node;\r\n        comb.setLocalZOrder(0);\r\n        comb.x=this._combPosArr[index].x;\r\n        comb.y=this._combPosArr[index].y;\r\n    }\r\n\r\n    createBee(index,needDelay){\r\n        let delayTime=needDelay?Math.random()*1.5:0;\r\n        this.node.runAction(cc.sequence(\r\n            cc.delayTime(delayTime),\r\n            cc.callFunc(()=>{\r\n                let bee=cc.instantiate(this.bee);\r\n                bee.parent=this._beeNode;\r\n                bee.setLocalZOrder(1);\r\n        \r\n                bee.x=1000+this._combPosArr[index].x;\r\n                bee.y=this._combPosArr[index].y;\r\n                bee.getComponent(\"bee\").init(this._level,this._combPosArr[index]);\r\n            })\r\n        ))\r\n    }\r\n\r\n    showBtn(){\r\n        if(this._unlockNum==0){\r\n            this.showUnlockBtn(this._canUnlock);\r\n        }else if(this._unlockNum>=GameCtr.maxPerCombLevel){\r\n           this.showFullFillBtn(); \r\n        }else{\r\n            this._word_levelFull.active=false;\r\n            this._word_unlock.active=false;\r\n            this._word_levelUp.active=true;\r\n            this._combsUnlock=GameCtr.getInstance().getCombsUnlock();\r\n\r\n            if(GameCtr.money>=(GameCtr.combConfig[this._level-1].levelUpCost+\r\n                GameCtr.combConfig[this._level-1].upMatrix*(this._combsUnlock[this._level-1])))\r\n            {\r\n                this._btn_upgrade.getComponent(cc.Button).interactable=true;\r\n            }else{\r\n                this._btn_upgrade.getComponent(cc.Button).interactable=false;\r\n            }\r\n        }\r\n    }\r\n\r\n    showFullFillBtn(){\r\n        this._word_unlock.active=false;\r\n        this._word_levelUp.active=false;\r\n        this._word_levelFull.active=true;\r\n        this._btn_upgrade.getComponent(cc.Button).interactable=false;\r\n    }\r\n\r\n    showUnlockBtn(isEffectable){\r\n        this._btn_upgrade.active=isEffectable;\r\n        this._word_unlock.active=true;\r\n        this._word_levelUp.active=false;\r\n        this._word_levelFull.active=false;\r\n        this._btn_upgrade.getComponent(cc.Button).interactable=isEffectable;\r\n    }\r\n\r\n\r\n\r\n    doBubbleHoney(){\r\n        let bubbleHoney=cc.instantiate(this.bubbleHoney);\r\n        bubbleHoney.parent=this.node.parent;\r\n        bubbleHoney.x=-500+(Math.random()-0.5)*20;\r\n        bubbleHoney.y=this.node.y-50;\r\n        bubbleHoney.runAction(cc.sequence(\r\n            cc.moveTo(0.4*this._level,cc.p(bubbleHoney.x,0)),\r\n            cc.callFunc(()=>{\r\n                bubbleHoney.destroy();\r\n            })\r\n        ))\r\n    }\r\n\r\n    isSpeedUp(){\r\n        return this._speedUpTime>0;\r\n    }\r\n\r\n    updateHoneyValue(){\r\n        GameCtr.honeyValue+=GameCtr.combConfig[this._level-1].initialIncome+\r\n                             (this._combsUnlock[this._level-1])*GameCtr.combConfig[this._level-1].incomeMatrix;\r\n        GameCtr.getInstance().getManufacture().setHoneyValue();\r\n        //console.log(\"log--------------GameCtr.honeyValue=:\",GameCtr.honeyValue);\r\n    }\r\n\r\n    updateBtnState(){\r\n        if(this._unlockNum==0){// 此蜂巢还未解锁\r\n            if(GameCtr.level>=GameCtr.combConfig[this._level-1].needLevel){//此蜂巢满足解锁条件\r\n                this.showUnlockBtn(true);\r\n            }else{//此蜂巢不满足解锁条件\r\n                this.showUnlockBtn(false);\r\n            }\r\n        }else if(this._unlockNum<GameCtr.maxPerCombLevel){ //此蜂巢已经解锁,但未满级\r\n            this._word_unlock.active=false;\r\n            this._word_levelUp.active=true;\r\n            if(GameCtr.money>=GameCtr.combConfig[this._level-1].levelUpCost+GameCtr.combConfig[this._level-1].upMatrix*this._unlockNum){\r\n                this._btn_upgrade.getComponent(cc.Button).interactable=true;\r\n            }else{\r\n                this._btn_upgrade.getComponent(cc.Button).interactable=false;\r\n            }\r\n        }else{//蜂巢满级\r\n            this.showFullFillBtn();\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    doWork(dt){\r\n        this._interval+=dt;\r\n        if(this._speedUpTime>0){\r\n            if((Date.now()-this._speedUpTime)/1000>=1.0){\r\n                this._speedUpTime=-1;\r\n            }\r\n        }\r\n\r\n        if(this._interval>=0.1){\r\n            this.updateBtnState();\r\n            this._speed=this._speedUpTime>0?\r\n            GameCtr.combConfig[GameCtr.comblevel-1].baseSpeed*(1-GameCtr.combConfig[GameCtr.comblevel-1].speedMatrix):\r\n            GameCtr.combConfig[GameCtr.comblevel-1].baseSpeed;\r\n\r\n            for(let i =0;i<this._beeNode.children.length;i++){\r\n                if(this._beeNode.children[i].getComponent(\"bee\").step==1){ // 飞向采蜜区\r\n                    this._beeNode.children[i].x-=1000/(this._speed*60/GameCtr.globalSpeedRate)*6;\r\n                    if(Math.floor(this._beeNode.children[i].x-this._beeNode.children[i].getComponent(\"bee\").jobPos.x)<5){\r\n                        this.doBubbleHoney();\r\n                        this.updateHoneyValue();\r\n                        this._beeNode.children[i].x=this._beeNode.children[i].getComponent(\"bee\").jobPos.x;\r\n                        this._beeNode.children[i].getComponent(\"bee\").playHoneyEft();\r\n                        this._beeNode.children[i].getComponent(\"bee\").step++;\r\n                    }\r\n                }\r\n                if(this._beeNode.children[i].getComponent(\"bee\").step==2){//采蜜\r\n                    if(this._beeNode.children[i].rotation<-45){\r\n                        this._beeNode.children[i].rotation-=45*60/(90/GameCtr.globalSpeedRate*(1-GameCtr.combConfig[GameCtr.comblevel-1].speedMatrix));\r\n                    }else{\r\n                        this._beeNode.children[i].rotation-=135*60/(90/GameCtr.globalSpeedRate*(1-GameCtr.combConfig[GameCtr.comblevel-1].speedMatrix));\r\n                    }\r\n                    if(Math.abs(this._beeNode.children[i].rotation+270)<135*60/(90/GameCtr.globalSpeedRate*(1-GameCtr.combConfig[GameCtr.comblevel-1].speedMatrix))){\r\n                        this._beeNode.children[i].rotation=-270;\r\n                        this._beeNode.children[i].getComponent(\"bee\").step++;\r\n                    }\r\n                }\r\n\r\n                if(this._beeNode.children[i].getComponent(\"bee\").step==3){//离开采蜜区\r\n                    this._beeNode.children[i].x+=1000/(this._speed*60/GameCtr.globalSpeedRate)*6;\r\n                    if(Math.abs(this._beeNode.children[i].x-this._beeNode.children[i].getComponent(\"bee\").jobPos.x-1000)<=1000/(this._speed*60/GameCtr.globalSpeedRate)*6){\r\n                        this._beeNode.children[i].rotation=-90;\r\n                        this._beeNode.children[i].x=this._beeNode.children[i].getComponent(\"bee\").jobPos.x+1000;\r\n                        this._beeNode.children[i].getComponent(\"bee\").step=1;\r\n                    }\r\n                }\r\n            }\r\n            this._interval=0\r\n        }\r\n    }\r\n}\r\n"]}