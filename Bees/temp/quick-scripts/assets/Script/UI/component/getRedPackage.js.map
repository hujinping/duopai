{"version":3,"sources":["getRedPackage.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../../assets/Script/UI/component","sourcesContent":["import AudioManager from \"../../Common/AudioManager\";\nimport GameCtr from \"../../Controller/GameCtr\";\nimport WXCtr from \"../../Controller/WXCtr\";\nconst {ccclass, property} = cc._decorator;\n@ccclass\nexport default class NewClass extends cc.Component {\n    _btn_close=null;\n    _btn_storage=null;\n    _lb_value=null;\n    _lb_surplusMoney=null;\n\n    _shareGet=false;\n    _shareGetMoney=0;\n    onLoad(){\n        this.initNode();\n    }\n\n    initNode(){\n        this._btn_close=this.node.getChildByName(\"btn_close\");\n        this._btn_storage=this.node.getChildByName(\"btn_storage\");\n\n        this._lb_value=this.node.getChildByName(\"lb_value\");\n        this._lb_surplusMoney=this.node.getChildByName(\"lb_surplusMoney\");\n\n        this.initBtnEvent(this._btn_close);\n        this.initBtnEvent(this._btn_storage);\n    }\n\n\n    initBtnEvent(btn){\n        btn.on(cc.Node.EventType.TOUCH_END,(e)=>{\n            if(e.target.getName()==\"btn_close\"){\n                this.node.destroy();\n                AudioManager.getInstance().playSound(\"audio/btnClose\");\n            }else if(e.target.getName()==\"btn_storage\"){\n                if(!this._shareGet){\n                    AudioManager.getInstance().playSound(\"audio/open_panel\");\n                    GameCtr.getInstance().getGame().showToast(\"存入成功\");\n                    this.node.destroy();\n                }else{\n                    AudioManager.getInstance().playSound(\"audio/open_panel\");\n                    let callFunc=()=>{\n                        GameCtr.realMoney+=this._shareGetMoney;\n                        GameCtr.getInstance().getGame().setRealMoney();\n                        this.node.destroy();\n                    }\n                    WXCtr.share({callback:callFunc});\n                } \n            }\n        })\n    }\n\n\n\n    setValue(value){\n        this._lb_value.getComponent(cc.Label).string=\"￥\"+value/100;\n    }\n\n    setSurplusMoney(){\n        this._lb_surplusMoney.getComponent(cc.Label).string=\"余额:\"+GameCtr.realMoney/100;\n    }\n\n\n    shouldShare(money){\n\n        this._shareGet=true;\n        this._shareGetMoney=money\n    }\n\n}\n"]}