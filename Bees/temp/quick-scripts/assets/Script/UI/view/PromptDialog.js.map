{"version":3,"sources":["PromptDialog.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\UI\\view","sourcesContent":["/**\r\n * 提示弹窗\r\n */\r\nimport BaseDialog from \"./BaseDialog\";\r\nimport Util from \"../../Common/Util\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class PromptDialog extends BaseDialog {\r\n\r\n    @property(cc.Label)\r\n    promptLabel: cc.Label = null;\r\n\r\n    private _promptText: string = '';\r\n\r\n    private cancelButtonClick: Function;//左边按钮点击事件（取消按钮）\r\n    private sureButtonClick: Function;//右边按钮点击事件（确认按钮）\r\n    private singleButton = false;//是否只显示确认按钮\r\n\r\n    onLoad() {\r\n        super.onLoad();\r\n    }\r\n\r\n    protected initData() {\r\n        let sureText = \"确定\";\r\n        let cancelText = \"取消\";\r\n        if (this._data) {\r\n            this.cancelButtonClick = this._data.cancelButtonClick;\r\n            this.sureButtonClick = this._data.sureButtonClick;\r\n            this.singleButton = !!this._data.singleButton;\r\n            if (typeof (this._data[\"message\"]) === \"string\") {\r\n                this._promptText = this._data[\"message\"];\r\n                this.promptLabel.string = this._promptText;\r\n            }\r\n            sureText = this._data[\"rightText\"] || sureText;\r\n            cancelText = this._data[\"leftText\"] || cancelText;\r\n        }\r\n        if (this._sureButton) {\r\n            Util.setString(Util.findChildByName(\"Label\", this._sureButton.node), sureText);\r\n        }\r\n        if (this._cancelButton) {\r\n            Util.setString(Util.findChildByName(\"Label\", this._cancelButton.node), cancelText);\r\n        }\r\n        if (this.singleButton) {\r\n            if (cc.isValid(this._sureButton)) {\r\n                this._sureButton.node.x = 0;\r\n            }\r\n            if (cc.isValid(this._cancelButton)) {\r\n                this._cancelButton.node.active = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    protected onButtonClick(event, customData) {\r\n        switch (customData) {\r\n            case BaseDialog.ButtonTag.SURE:\r\n                if (this.sureButtonClick && this.sureButtonClick()) {\r\n                    return;\r\n                }\r\n                this.dismiss();\r\n                break;\r\n            case BaseDialog.ButtonTag.CANCEL:\r\n                if (this.cancelButtonClick && this.cancelButtonClick()) {\r\n                    return;\r\n                }\r\n                this.dismiss();\r\n                break;\r\n            case BaseDialog.ButtonTag.CLOSE:\r\n                this.dismiss();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\n"]}