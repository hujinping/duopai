{"version":3,"sources":["../../../../../assets/Script/Controller/assets/Script/Controller/GameCtr.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../assets/Script/Controller","sourcesContent":["//游戏全局控制类\r\nimport AudioManager from \"../Common/AudioManager\";\r\nimport UserManager from \"../Common/UserManager\";\r\nimport WXCtr from \"./WXCtr\";\r\nimport Game from \"../UI/game/Game\";\r\nimport Manufacture from \"../UI/game/manufacture\";\r\nimport Level from \"../UI/game/level\";\r\nimport RankingView from \"../UI/ranking/RankingView\";\r\nimport HttpCtr from \"./HttpCtr\";\r\nimport Http from \"../Common/Http\";\r\n//import Collide from \"../View/game/Collide\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n\r\n\r\n@ccclass\r\nexport default class GameCtr {\r\n    public static ins: GameCtr;\r\n    private mGame: Game;\r\n    private mManufacture: Manufacture;\r\n    private mLevel: Level;\r\n    private mRanking:RankingView;\r\n    private eventTarget=null;\r\n    \r\n    public static selfInfo=null;\r\n    public static isAudited= false;                     //已审核\r\n    public static reviveTimes = 0;                      //第几次复活\r\n    public static globalSpeedRate=1;                    //游戏全局加速\r\n    public static incomeRate=1;                         //收益倍率\r\n    public static score: number = 0;\r\n    public static rankingEntrance = \"Start\";            //排行榜界面入口，默认开始界面\r\n    public static navigatorData = null;                 //更多游戏导航数据\r\n    public static challengerData = null;                //挑战者信息\r\n    public static challengeSwitch = false;              //挑战开关(有人发起挑战时为true)\r\n    public static reviveData=null;      \r\n    public static maxPerCombLevel=30;                   //最大蜂巢等级\r\n    public static maxCombsCount=30;                     //蜂巢最大数量\r\n    public static maxPlayerLevel=145;                   //人物最大等级\r\n    public static maxManufactureLevel=300;              //生产线等级\r\n\r\n    public static money=0;                              //玩家已经挣到的钱(只是还剩的钱，不包括生产线等级 和蜂巢 )\r\n    public static levelMoney=0;\r\n    public static rich=0;                               //玩家总财富\r\n    public static honeyValue=0;                         //蜂蜜值\r\n    public static level=null;\r\n    public static ManufactureLevel=null;\r\n    public static comblevel=null;\r\n    public static combsUnlock=null;\r\n    public static levelConfig=null;\r\n    public static manufactureConfig=null;\r\n    public static combConfig=null;\r\n    public static pfTurnTableConfig=null;\r\n    public static otherConfig=null;\r\n    public static setting=null;\r\n    public static upper_boundary=null;\r\n    public static lower_boundary=null;\r\n    public static newGameData=null;\r\n    public static guide=null;\r\n    public static tipHandTag=1500;\r\n    public static realMoney=null;\r\n    public static vedioTimes=0;\r\n    public static honeyPool=null;\r\n    public static jarPool=null;\r\n    public static bubbleMoneyPool=null;\r\n\r\n    public static ufoTimes=6;\r\n\r\n\r\n    public static clickType={\r\n        speedUp:1,                   //加速分享\r\n        invite:2,                      //邀请分享\r\n        more:3,                        //更多游戏\r\n        ufo:4,                         //ufo\r\n        attention:5,                   //关注\r\n        shop:6,                        //shop\r\n        rank:7,                        //排行\r\n        buy:8,                         //快速购买\r\n        goldNotEnoughShare:9,          //金币不足\r\n        offLineShare:10,                //离线分享\r\n        offLineVedio:11,                //离线看广告\r\n        pfTurntable:12,                 //转盘分享\r\n    }\r\n\r\n    constructor() {\r\n        GameCtr.ins = this;\r\n        WXCtr.getLaunchOptionsSync();\r\n        WXCtr.createUserInfoBtn();\r\n        WXCtr.getAuthSetting();\r\n        WXCtr.showShareMenu();\r\n        WXCtr.wxOnLogin();\r\n\r\n        GameCtr.honeyPool=new cc.NodePool();\r\n        GameCtr.jarPool=new cc.NodePool();\r\n        GameCtr.bubbleMoneyPool=new cc.NodePool();\r\n    }\r\n\r\n\r\n    static getInstance() {\r\n        if (!GameCtr.ins) {\r\n            GameCtr.ins = new GameCtr();\r\n        }\r\n        return GameCtr.ins;\r\n    }\r\n\r\n    getAdaptScaleRate(){\r\n        var visibleSize = cc.view.getFrameSize();\r\n        var height = 1920 * visibleSize.width / 1080;\r\n        var scaleRate = visibleSize.height / height;\r\n        return scaleRate;\r\n    }\r\n\r\n    initEventTarget(){\r\n        this.eventTarget=new cc.EventTarget();\r\n    }\r\n\r\n    getEventTarget(){\r\n        return this.eventTarget;\r\n    }\r\n\r\n    emitEvent(event,data){\r\n        this.eventTarget.emit(event,data);\r\n    }\r\n\r\n    addListener(event,callFunc){\r\n        this.eventTarget.on(event,callFunc);\r\n    }\r\n\r\n    removeListener(event){\r\n        this.eventTarget.off(event);\r\n    }\r\n\r\n    //设置game实例(游戏)\r\n    setGame(game: Game) {\r\n        this.mGame = game;\r\n    }\r\n    //设置蜜蜂工厂实例\r\n    setManufacture(manufacture: Manufacture) {\r\n        this.mManufacture = manufacture;\r\n    }\r\n    //设置end实例（结束）\r\n    setLevel(level: Level) {\r\n        this.mLevel = level;\r\n    }\r\n\r\n    setRanking(ranking: RankingView){\r\n        this.mRanking = ranking;\r\n    }\r\n\r\n    getRanking(){\r\n        return this.mRanking;\r\n    }\r\n\r\n    setCombsUnlock(){\r\n        window.localStorage.setItem(\"combsUnlock\",JSON.stringify(GameCtr.combsUnlock));\r\n    }\r\n\r\n    getCombsUnlock(){\r\n        return  window.localStorage.getItem(\"combsUnlock\");\r\n    }\r\n\r\n    setPlayerLevel(){\r\n        window.localStorage.setItem(\"level\",GameCtr.level);\r\n    }\r\n\r\n    getPlayerLevel(){\r\n        return Number(window.localStorage.getItem(\"level\"))\r\n    }\r\n\r\n    setManufactureLevel(){\r\n        window.localStorage.setItem(\"ManufactureLevel\",GameCtr.ManufactureLevel);\r\n    }\r\n\r\n    getManufactureLevel(){\r\n        return Number(window.localStorage.getItem(\"ManufactureLevel\"));\r\n    }\r\n\r\n    setCombLevel(){\r\n        window.localStorage.setItem(\"comblevel\",GameCtr.comblevel);\r\n    }\r\n\r\n    getCombLevel(){\r\n        return Number(window.localStorage.getItem(\"comblevel\"))\r\n    }\r\n\r\n    setTimestamp(){\r\n        window.localStorage.setItem(\"timestamp\",Date.now().toString());\r\n    }\r\n\r\n    setPlayTimes(){\r\n        let playTimes=window.localStorage.getItem(\"playTimes\")\r\n        if(!playTimes){\r\n            window.localStorage.setItem(\"playTimes\",1+\"\")\r\n        }else{\r\n            window.localStorage.setItem(\"playTimes\",Number(playTimes)+1+\"\")\r\n        }\r\n    }\r\n\r\n    getPlayTimes(){\r\n        return window.localStorage.getItem(\"playTimes\");\r\n    }\r\n\r\n    getTimestamp(){\r\n        return Number(window.localStorage.getItem(\"timestamp\"));\r\n    }\r\n\r\n\r\n    setMoney(){\r\n        window.localStorage.setItem(\"money\",GameCtr.money+\"\");\r\n    }\r\n\r\n    getMoney(){\r\n        return Number(window.localStorage.getItem(\"money\"))\r\n    }\r\n\r\n    setRich(){\r\n        window.localStorage.setItem(\"rich\",GameCtr.rich+\"\");\r\n    }\r\n\r\n    getRich(){\r\n        return Number(window.localStorage.getItem(\"rich\"));\r\n    }\r\n\r\n    setLevelMoney(){\r\n        window.localStorage.setItem(\"levelMoney\",GameCtr.levelMoney+\"\");\r\n    }\r\n\r\n    getLevelMoney(){\r\n        return Number(window.localStorage.getItem(\"levelMoney\"));\r\n    }\r\n\r\n    setHoneyValue(){\r\n        window.localStorage.setItem(\"honeyValue\",GameCtr.honeyValue+\"\");\r\n    }\r\n\r\n    getHoneyValue(){\r\n        return Number(window.localStorage.getItem(\"honeyValue\"));\r\n    }\r\n\r\n    setGuide(){\r\n        window.localStorage.setItem(\"guide\",JSON.stringify(GameCtr.guide))\r\n    }\r\n\r\n    getGuide(){\r\n        return JSON.parse(window.localStorage.getItem(\"guide\"));\r\n    }\r\n\r\n\r\n    getGame(){\r\n        return this.mGame;\r\n    }\r\n\r\n    getManufacture(){\r\n        return this.mManufacture;\r\n    }\r\n\r\n    getLevel(){\r\n        return this.mLevel;\r\n    }\r\n\r\n    //场景切换\r\n    static gotoScene(sceneName) {\r\n        cc.director.loadScene(sceneName);\r\n        //AudioManager.getInstance().stopAll();\r\n    }\r\n\r\n    //显示结束界面\r\n    static showEnd() {\r\n        GameCtr.gotoScene(\"End\");\r\n    }\r\n\r\n    //显示开始界面\r\n    static showStart() {\r\n        GameCtr.gotoScene(\"Start\");\r\n    }\r\n\r\n    // 显示最想王者\r\n    static showStrongest() {\r\n        GameCtr.gotoScene(\"Strongest\");\r\n    }\r\n\r\n    //显示复活界面\r\n    static showRevive() {\r\n        if(GameCtr.ins){\r\n            //GameCtr.ins.mGame.showRevive();\r\n        }\r\n    }\r\n\r\n    //根据图片路径设置sprite的spriteFrame\r\n    static loadImg(spr, imgUrl) {\r\n        cc.loader.load({\r\n            url: imgUrl,\r\n            type: 'png'\r\n        }, (err, texture) => {\r\n            spr.spriteFrame = new cc.SpriteFrame(texture);\r\n        });\r\n    }\r\n\r\n    //开始游戏\r\n    static startGame() {\r\n        GameCtr.score = 0;\r\n        GameCtr.gotoScene(\"Game\");\r\n    }\r\n\r\n    //显示排行榜\r\n    static showRanking(entrance) {\r\n        GameCtr.rankingEntrance = entrance;\r\n        GameCtr.gotoScene(\"Ranking\");\r\n    }\r\n\r\n    //复活继续游戏\r\n    static revive() {\r\n        //GameCtr.surplusReviveTimes--;\r\n        //复活逻辑自己处理...\r\n    }\r\n\r\n\r\n    //播放背景音乐\r\n    static playBgm() {\r\n        // AudioManager.getInstance().playMusic(\"audio/bgm\", true, 1); \r\n    }\r\n\r\n    //增加分数\r\n    static addScore(num) {\r\n        if (GameCtr.ins) {\r\n            GameCtr.score += num;\r\n        }\r\n    }\r\n\r\n    //游戏结束\r\n    static gameOver() {\r\n        if (GameCtr.ins) {\r\n            //WXCtr.submitScoreToWx(GameCtr.score);\r\n            //HttpCtr.sendScore();\r\n            // if(GameCtr.surplusReviveTimes > 0) {\r\n            //     GameCtr.showRevive();\r\n            // }\r\n        }\r\n    }\r\n\r\n    saveSelfInfoToLocal(info){\r\n        let selfInfo={\r\n            avatarUrl: info.avatarUrl,\r\n            city: info.city,\r\n            country: info.country,\r\n            gender: info.gender,\r\n            language: info.language,\r\n            nickName: info.nickName,\r\n            province: info.province,\r\n        }\r\n        \r\n        window.localStorage.setItem(\"selfInfo\",JSON.stringify(selfInfo))\r\n    }\r\n\r\n    getSelfInfoFromLocal(){\r\n        let selfInfo=window.localStorage.getItem(\"selfInfo\");\r\n        if(!selfInfo){return};\r\n        return JSON.parse(selfInfo);\r\n    }\r\n\r\n     //获取广告配置\r\n     static getSliderConfig(slideType) {\r\n        Http.send({\r\n            url: Http.UrlConfig.GET_ALL_SLIDES,\r\n            success: (resp) => {\r\n                console.log(\"getSlider数据\", resp);\r\n                if (slideType == \"index\") {\r\n                    // GameCtr.otherData=resp.data;\r\n                    // GameCtr.ins.mStart.showSlide(resp.data);\r\n                } else if (slideType == \"settlement\") {\r\n                    //GameCtr.ins.mEnd.showSlider(resp.data);\r\n                }else if (slideType == \"nav\") {\r\n                    GameCtr.newGameData=resp.data;\r\n                    GameCtr.getInstance().getGame().refreshMoreNewGame();\r\n                }\r\n            },\r\n            data: {\r\n                slide_type: slideType\r\n            }\r\n        });\r\n    }\r\n\r\n    //分享到群检测\r\n    static shareGroupCheck(encryptedData, iv,type) {\r\n        Http.send({\r\n            url: Http.UrlConfig.SHARE_GROUP,\r\n            data: {\r\n                user_id: UserManager.user_id,\r\n                encrypted_data: encryptedData,\r\n                iv: iv\r\n            },\r\n            success: (resp) => {\r\n                console.log(\"分享到群成功\", resp);\r\n                console.log(resp.code == 403);\r\n                if (resp.code == 200) {\r\n                    // console.log('走到200');\r\n                    // if(type=='collide'){\r\n                    //     GameCtr.ins.mCollide.shareOk()\r\n                    // }else{\r\n                    //     GameCtr.getGold(\"group\");\r\n                    // }\r\n                } else if (resp.code == 403) {\r\n                    // if(type == 'collide'){\r\n                    //     console.log('222222222')\r\n                    //     GameCtr.shareTip('今天已分享过该群，暂无奖励');\r\n                    // }else{\r\n                    //     GameCtr.reviveTip(\"今天已经分享过这个了！\");\r\n                    // }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n        //登录游戏\r\n        static login(code, info, showWorldRanking = false) {\r\n            Http.send({\r\n                url: Http.UrlConfig.LOGIN,\r\n                success: (resp) => {\r\n                    if (resp.code == Http.Code.OK) {\r\n                        UserManager.user_id = resp.data.user_id;\r\n                        if (showWorldRanking) {\r\n                            GameCtr.getInstance().getRanking().showWorldRanking();\r\n                        }\r\n                        // Http.send({\r\n                        //     url: Http.UrlConfig.SAVE_INFO,\r\n                        //     data:\r\n                        //     {\r\n                        //         avatar_url: info.avatarUrl,\r\n                        //         city: info.city,\r\n                        //         country: info.country,\r\n                        //         gender: info.gender,\r\n                        //         language: info.language,\r\n                        //         nick_name: info.nickName,\r\n                        //         user_id: UserManager.user_id,\r\n                        //         province: info.province,\r\n                        //     },\r\n                        //     success: () => {\r\n                        //         GameCtr.getShareSwitch();               //登录成功，获取分享开关\r\n                        //         GameCtr.getRandomUser();\r\n                        //         GameCtr.getGameOverShareSwitch();\r\n                        //         console.log(\"渠道验证成功111\", WXCtr.launchOption.query);\r\n                        //         GameCtr.chanelCheck(WXCtr.launchOption.query.channel_id, UserManager.user_id);\r\n                        //         GameCtr.seekJion(WXCtr.launchOption.query.Send_user_id, WXCtr.launchOption.query.isInvite);\r\n                        //         GameCtr.getToolInfo();\r\n                        //         WXCtr.getAdConfig();\r\n                        //         GameCtr.getUserInfoCtr();\r\n                        //     }\r\n                        // });\r\n                    }\r\n                },\r\n                data: {\r\n                    code: code\r\n                }\r\n            });\r\n    \r\n        }\r\n}\r\n"]}