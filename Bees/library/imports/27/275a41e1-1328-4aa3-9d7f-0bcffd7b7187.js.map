{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\UI\\game/assets\\Script\\UI\\game\\manufacture.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\UI\\game","sourcesContent":["const {ccclass, property} = cc._decorator;\r\nimport AudioManager from \"../../Common/AudioManager\";\r\nimport GameCtr from \"../../Controller/GameCtr\";\r\nimport Util from \"../../Common/Util\";\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n\r\n    @property(cc.Prefab)\r\n    jar_black:cc.Prefab=null;\r\n\r\n    @property(cc.Prefab)\r\n    jar_yellow:cc.Prefab=null;\r\n\r\n    @property(cc.Prefab)\r\n    manufactureUpgrade:cc.Prefab=null;\r\n\r\n    @property(cc.Prefab)\r\n    bubbleMoney:cc.Prefab=null;\r\n\r\n    _lb_honey=null;\r\n    _lb_upSpeedTime=null;\r\n    _lb_doubleTime=null;\r\n    _btn_upgrade=null;\r\n    _btn_upSpeed=null;\r\n    _btn_doubleIncome=null;\r\n    _icon_arrow=null;\r\n    _timeCount=-1;\r\n    _timeCount1=-1;\r\n    _speed=1;\r\n    _isWorking=false;\r\n    _mask=null;\r\n    _speedUpTime=-1;\r\n    _upLine=null;\r\n    _downLine=null;\r\n    _plug=null;\r\n    _pulleyList=[];\r\n    _jarNode=null;\r\n    _doubleTime=0;\r\n    _speedTime=0;\r\n    \r\n    onLoad(){\r\n        GameCtr.getInstance().setManufacture(this);\r\n        this.initNode();\r\n    }\r\n\r\n    initNode(){\r\n        this._lb_honey=this.node.getChildByName(\"lb_honey\");\r\n        this._lb_upSpeedTime=this.node.getChildByName(\"lb_upSpeedTime\");\r\n        this._lb_doubleTime=this.node.getChildByName(\"lb_doubleTime\");\r\n        this._btn_upgrade=this.node.getChildByName(\"btn_upgrade\");\r\n        this._btn_upSpeed=this.node.getChildByName(\"btn_speedUp\")\r\n        this._btn_doubleIncome=this.node.getChildByName(\"btn_boubleIncome\");\r\n        this._mask=this.node.getChildByName(\"mask\");\r\n        this._icon_arrow=this.node.getChildByName(\"icon_arrow\");\r\n        this._upLine=this.node.getChildByName(\"upline\");\r\n        this._downLine=this.node.getChildByName(\"downline\");\r\n        this._plug=this.node.getChildByName(\"plug\");\r\n        this._jarNode=this.node.getChildByName(\"jarNode\");\r\n        let pulleyNode=this.node.getChildByName(\"pulleyNode\");\r\n        for(let i=0;i<6;i++){\r\n            let  pulley=pulleyNode.getChildByName(\"pulley\"+i);\r\n            this._pulleyList.push(pulley);\r\n        }\r\n        this._plug.setLocalZOrder(1);\r\n        this._lb_upSpeedTime.active=false;\r\n        this._lb_doubleTime.active=false;\r\n        this._btn_doubleIncome.getComponent(cc.Button).interactable=false;\r\n        this._btn_upSpeed.active=false;\r\n        // this._icon_arrow.active=false;\r\n\r\n        this.initBtnEvent(this._btn_upgrade);\r\n        this.initBtnEvent(this._mask); \r\n        this.initBtnEvent(this._btn_upSpeed);\r\n        this.initBtnEvent(this._btn_doubleIncome);\r\n\r\n        this.showBtn();\r\n    }\r\n\r\n    setHoneyValue(){\r\n        this._lb_honey.getComponent(cc.Label).string=Util.formatNumber(GameCtr.honeyValue);\r\n    }\r\n\r\n    doWork(){\r\n        if(GameCtr.honeyValue-GameCtr.manufactureConfig[GameCtr.ManufactureLevel-1].perBonus<0){\r\n            this._isWorking=false;\r\n            return;\r\n        }\r\n        this._isWorking=true;\r\n        \r\n        let jar=cc.instantiate(this.jar_black);\r\n        this._speed=this._speedUpTime>0?GameCtr.manufactureConfig[GameCtr.ManufactureLevel-1].speed:1;\r\n        jar.parent=this._jarNode;\r\n        jar.x=-203;\r\n        jar.y=545;\r\n\r\n        this._plug.runAction(cc.sequence(\r\n            cc.scaleTo(0.2/this._speed*GameCtr.globalSpeedRate,0.8),\r\n            cc.scaleTo(0.1/this._speed*GameCtr.globalSpeedRate,1.0),\r\n            cc.delayTime((GameCtr.manufactureConfig[GameCtr.ManufactureLevel-1].productTime-(0.2/this._speed*GameCtr.globalSpeedRate)-(0.1/this._speed*GameCtr.globalSpeedRate))/this._speed*GameCtr.globalSpeedRate),///(this._speed*GameCtr.globalSpeedRate)\r\n        ))\r\n        jar.runAction(cc.sequence(\r\n            cc.delayTime(0.3),\r\n            cc.moveTo(0.2,cc.p(-203,365)),\r\n            cc.delayTime(GameCtr.manufactureConfig[GameCtr.ManufactureLevel-1].transferTime/(this._speed*GameCtr.globalSpeedRate)),\r\n            cc.callFunc(()=>{\r\n                jar.removeFromParent();\r\n                GameCtr.money+=GameCtr.manufactureConfig[GameCtr.ManufactureLevel-1].perBonus*GameCtr.incomeRate;\r\n                GameCtr.levelMoney+=GameCtr.manufactureConfig[GameCtr.ManufactureLevel-1].perBonus*GameCtr.incomeRate;\r\n                GameCtr.getInstance().getLevel().setMoney();\r\n                GameCtr.getInstance().getLevel().updateLevelProgress();\r\n                GameCtr.getInstance().emitEvent(\"moneyUpdate\",null);\r\n                this.showBtn()\r\n                this.showBubbleMoney(GameCtr.manufactureConfig[GameCtr.ManufactureLevel-1].perBonus*GameCtr.incomeRate);\r\n            })\r\n        ))\r\n        GameCtr.honeyValue-=GameCtr.manufactureConfig[GameCtr.ManufactureLevel-1].perBonus;\r\n        this.setHoneyValue();\r\n        this.scheduleOnce(this.doWork.bind(this),GameCtr.manufactureConfig[GameCtr.ManufactureLevel-1].productTime/(this._speed*GameCtr.globalSpeedRate));\r\n    }\r\n\r\n\r\n    showBubbleMoney(money){\r\n        let bubbleMoney=cc.instantiate(this.bubbleMoney);\r\n        bubbleMoney.parent=this.node;\r\n        bubbleMoney.x=450;\r\n        bubbleMoney.getComponent(\"bubbleMoney\").setMoney(money);\r\n        AudioManager.getInstance().playSound(\"audio/gold\");\r\n    }\r\n\r\n\r\n    initBtnEvent(btn){\r\n        let move_x=0;\r\n        btn.on(cc.Node.EventType.TOUCH_START,(e)=>{\r\n            if(e.target.getName()!=\"mask\"){return;}\r\n            move_x=-1;\r\n        })\r\n\r\n        btn.on(cc.Node.EventType.TOUCH_MOVE,(e)=>{\r\n            if(e.target.getName()!=\"mask\"){return;}\r\n            move_x= e.touch._point.x - e.touch._prevPoint.x;\r\n            if(Math.abs(move_x)>=5){\r\n                return;\r\n            }\r\n        })\r\n\r\n        btn.on(cc.Node.EventType.TOUCH_END,(e)=>{\r\n            if(e.target.getName()==\"btn_upgrade\"){\r\n                // if(GameCtr.money<GameCtr.manufactureConfig[GameCtr.ManufactureLevel].cost){return;}\r\n                if(cc.find(\"Canvas\").getChildByName(\"manufactureUpgrade\")){return;}\r\n                \r\n                let manufactureUpgrade=cc.instantiate(this.manufactureUpgrade);\r\n                manufactureUpgrade.parent=cc.find(\"Canvas\");\r\n                manufactureUpgrade.y=-1218;\r\n                manufactureUpgrade.runAction(cc.moveBy(0.4,cc.p(0,1218)).easing(cc.easeElasticOut(3.0)));\r\n                GameCtr.getInstance().getGame().setMaskVisit(true);\r\n                GameCtr.getInstance().getGame().setManufactureUpgrade(manufactureUpgrade);\r\n                AudioManager.getInstance().playSound(\"audio/btn_click\");\r\n            }else if(e.target.getName()==\"btn_speedUp\"){\r\n                GameCtr.globalSpeedRate=2;\r\n                this._speedTime=0;\r\n                this.startSpeedUpTimer(GameCtr.otherConfig.speedUpPersist);\r\n                this._btn_upSpeed.active=false;\r\n                AudioManager.getInstance().playMusic(\"audio/speeUp\");\r\n            }else if(e.target.getName()==\"btn_boubleIncome\"){\r\n                if(!this._btn_doubleIncome.getComponent(cc.Button).interactable){return;}\r\n                this._doubleTime=0;\r\n                this._btn_doubleIncome.getComponent(cc.Button).interactable=false;\r\n                GameCtr.incomeRate=2;\r\n                this.startDoubleTimer(GameCtr.otherConfig.doublePersist);\r\n            }else if(e.target.getName()==\"mask\"){\r\n                if(Math.abs(move_x)>=5){\r\n                    this._speedUpTime=Date.now();\r\n                    this._speed=this._speedUpTime>0?GameCtr.manufactureConfig[GameCtr.ManufactureLevel-1].speed:1;\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    upgrade(){\r\n        GameCtr.money-=GameCtr.manufactureConfig[GameCtr.ManufactureLevel-1].cost;\r\n        GameCtr.ManufactureLevel+=1;\r\n        this.showBtn();\r\n        GameCtr.getInstance().setManufactureLevel();\r\n    }\r\n\r\n    showBtn(){\r\n        if(GameCtr.money>=GameCtr.manufactureConfig[GameCtr.ManufactureLevel-1].cost){\r\n            this.enableBtn(true);\r\n        }else{\r\n            this.enableBtn(false);\r\n        }\r\n    }\r\n\r\n    enableBtn(isEffectable){\r\n        this._btn_upgrade.getComponent(cc.Button).interactable=isEffectable;\r\n    }\r\n\r\n    startSpeedUpTimer(_timeCount){\r\n        this._timeCount=_timeCount;\r\n        this._lb_upSpeedTime.active=true;\r\n        this.countDown();\r\n    }\r\n\r\n    startDoubleTimer(_timeCount){\r\n        this._timeCount1=_timeCount;\r\n        this._lb_doubleTime.active=true;\r\n        this.countDown1();\r\n    }\r\n\r\n    countDown(){\r\n        if(this._timeCount<0){\r\n            GameCtr.globalSpeedRate=1;\r\n            this._lb_upSpeedTime.active=false;\r\n            AudioManager.getInstance().playMusic(\"audio/bgMusic\");\r\n            return;\r\n        }\r\n        let minStr=Math.floor(this._timeCount/60)<10?\"0\"+Math.floor(this._timeCount/60):\"\"+Math.floor(this._timeCount/60);\r\n        let secStr=this._timeCount%60<10?\"0\"+this._timeCount%60:\"\"+this._timeCount%60;\r\n\r\n        this._lb_upSpeedTime.getComponent(cc.Label).string=minStr+\":\"+secStr;\r\n        this._timeCount-=1;\r\n        this.scheduleOnce(this.countDown.bind(this),1);\r\n    }\r\n\r\n    countDown1(){\r\n        if(this._timeCount1<0){\r\n            GameCtr.incomeRate=1;\r\n            this._lb_doubleTime.active=false;\r\n            return;\r\n        }\r\n        let minStr=Math.floor(this._timeCount1/60)<10?\"0\"+Math.floor(this._timeCount1/60):\"\"+Math.floor(this._timeCount1/60);\r\n        let secStr=this._timeCount1%60<10?\"0\"+this._timeCount1%60:\"\"+this._timeCount1%60;\r\n\r\n        this._lb_doubleTime.getComponent(cc.Label).string=minStr+\":\"+secStr;\r\n        this._timeCount1-=1;\r\n        this.scheduleOnce(this.countDown1.bind(this),1);\r\n    }\r\n\r\n\r\n\r\n\r\n    update(dt){\r\n        if(!this._upLine){return}\r\n\r\n        if(this._speedUpTime>0){\r\n            if((Date.now()-this._speedUpTime)/1000>=1.0){\r\n                this._speedUpTime=-1;\r\n                this._speed=1;\r\n            }\r\n        }\r\n        if(this._doubleTime>=0){\r\n            this._doubleTime+=dt;\r\n            if(this._doubleTime>=GameCtr.otherConfig.doubleInterval){\r\n                this._btn_doubleIncome.getComponent(cc.Button).interactable=true;\r\n                this._doubleTime=-1\r\n            }\r\n        }\r\n\r\n        if(this._speedTime>=0){\r\n            this._speedTime+=dt;\r\n            if(this._speedTime>=GameCtr.otherConfig.speedUpInterval){\r\n                this._btn_upSpeed.active=true;\r\n                this._speedTime=-1\r\n            }\r\n        }\r\n\r\n        if(!this._isWorking&&GameCtr.honeyValue>0){\r\n            this.unschedule(this.doWork.bind(this));\r\n            this.scheduleOnce(this.doWork.bind(this),1);\r\n            this._isWorking=true;\r\n        }\r\n        \r\n\r\n        this._upLine.x+=1080/(GameCtr.manufactureConfig[GameCtr.ManufactureLevel-1].transferTime*60/(this._speed*GameCtr.globalSpeedRate));\r\n        this._downLine.x-=1080/(GameCtr.manufactureConfig[GameCtr.ManufactureLevel-1].transferTime*60/(this._speed*GameCtr.globalSpeedRate));\r\n        if(this._upLine.x>=1080)  {this._upLine.x=0;}\r\n        if(this._downLine.x<=-1080)  this._downLine.x=0;\r\n\r\n        for(let i=0;i<this._pulleyList.length;i++){\r\n            this._pulleyList[i].rotation+=360/(GameCtr.manufactureConfig[GameCtr.ManufactureLevel-1].transferTime*60/(this._speed*GameCtr.globalSpeedRate));\r\n        }\r\n        for(let i=0;i<this._jarNode.children.length;i++){\r\n            if(Math.abs(this._jarNode.children[i].y-365)<0.5){\r\n                this._jarNode.children[i].x+=1080/(GameCtr.manufactureConfig[GameCtr.ManufactureLevel-1].transferTime*60/(this._speed*GameCtr.globalSpeedRate));\r\n            }\r\n        }\r\n    }\r\n}\r\n"]}