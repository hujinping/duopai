{"version":3,"sources":["../../../../../../assets/Script/UI/component/assets/Script/UI/component/unlockCombTip.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../../assets/Script/UI/component","sourcesContent":["import GameCtr from \"../../Controller/GameCtr\";\nimport AudioManager from \"../../Common/AudioManager\";\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n    @property(cc.Prefab)\n    celebrate:cc.Prefab=null;\n\n    _btn_sure=null;\n    _bee=null;\n    _level=null;\n\n    onLoad(){\n        this._bee=this.node.getChildByName(\"bee\");\n        this._btn_sure=this.node.getChildByName(\"btn_sure\");\n\n        this._btn_sure.on(cc.Node.EventType.TOUCH_END,(e)=>{\n            AudioManager.getInstance().playSound(\"audio/unlock_hive\");\n            GameCtr.getInstance().getGame().setMaskVisit(false);\n            let comb=GameCtr.getInstance().getGame().getComb(this._level);\n            let neetComb=GameCtr.getInstance().getGame().getComb(this._level+1);\n            comb.getComponent(\"honeycomb\").setUnlock(true);\n            comb.getComponent(\"honeycomb\").upgrade();\n            if(neetComb){\n                neetComb.getComponent(\"honeycomb\").initBtnState();\n            }\n            this.node.destroy();\n        })\n    }\n\n    init(level){\n        this._level=level;\n        this.initBee();\n        this.showCelebrate();\n    }\n\n    initBee(){\n        cc.loader.loadRes(\"textures/bees/00\"+this._level, cc.SpriteFrame,  (err, spriteFrame)=> {\n            this._bee.getComponent(cc.Sprite).spriteFrame=spriteFrame;\n            this._bee.scale=4.0;\n        });\n    }\n\n    showCelebrate(){\n        let celebrate=cc.instantiate(this.celebrate);\n        celebrate.parent=cc.find(\"Canvas\");\n        celebrate.scale=2;\n        let skeleton=celebrate.getChildByName(\"animation\").getComponent(sp.Skeleton);\n        skeleton.setCompleteListener(()=>{\n            celebrate.destroy();\n        });\n    }\n\n}\n"]}