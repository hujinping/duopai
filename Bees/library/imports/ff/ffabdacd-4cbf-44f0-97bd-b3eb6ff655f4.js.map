{"version":3,"sources":["../../../../../../assets/Script/UI/component/assets/Script/UI/component/role.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../../assets/Script/UI/component","sourcesContent":["import AudioManager from '../../Common/AudioManager'\r\nconst {ccclass, property} = cc._decorator;\r\nenum DieWay{\r\n    CAVE,\r\n    CACTI,\r\n}\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n    private id=null;\r\n    private lb_name=null;\r\n    private headImg=null;\r\n    private headFrame=null;\r\n\r\n    onLoad(){\r\n        // this.lb_name=this.node.getChildByName(\"lb_name\");\r\n        // this.headFrame=this.node.getChildByName(\"headFrame\");\r\n        // this.headImg=this.node.getChildByName(\"mask\").getChildByName(\"heading\");\r\n        // this.headFrame.active=false;\r\n    }\r\n\r\n    setName(name:string){\r\n        this.lb_name.getComponent(cc.Label).string=name;\r\n    }\r\n\r\n    setID(id:number){\r\n        this.id=id;\r\n    }\r\n\r\n    getID(){\r\n        return this.id;\r\n    }\r\n\r\n    setHeadImg(url){\r\n        this.headFrame.active=true;\r\n        let spr=this.headImg.getComponent(cc.Sprite);\r\n        cc.loader.load({\r\n            url: url,\r\n            type: 'png'\r\n        }, (err, texture) => {\r\n            spr.spriteFrame = new cc.SpriteFrame(texture);\r\n        });\r\n    }\r\n\r\n    die(dieWay,die=true){\r\n        if(dieWay==DieWay.CAVE){\r\n            this.node.runAction(cc.sequence(\r\n                cc.delayTime(0.1*Math.floor(Math.random()*3)),\r\n                cc.scaleTo(0.2,0),\r\n                cc.callFunc(function(){\r\n                    AudioManager.getInstance().playSound(\"audio/scream\");\r\n                    if(die){\r\n                        this.node.destroy();\r\n                    }else{\r\n                        this.node.active=false;\r\n                        this.node.scale=1;\r\n                        this.node.rotation=0\r\n                    }\r\n                }.bind(this))\r\n            ))\r\n        }else{\r\n            this.node.runAction(cc.sequence(\r\n                cc.delayTime(0.1*Math.floor(Math.random()*3)),\r\n                cc.spawn(\r\n                    cc.moveBy(0.2,cc.p(Math.random()*500-250,Math.random()*200+800)),\r\n                    cc.rotateBy(0.2,Math.random()*90-45),\r\n                    cc.scaleTo(0.2,0.5*Math.floor(Math.random())+0.3),\r\n                ),\r\n                cc.callFunc(function(){\r\n                    AudioManager.getInstance().playSound(\"audio/scream\");\r\n                    if(die){\r\n                        this.node.destroy();\r\n                    }else{\r\n                        this.node.active=false;\r\n                        this.node.scale=1;\r\n                        this.node.rotation=0\r\n                    }\r\n                }.bind(this))\r\n            ))\r\n        }\r\n    }\r\n\r\n}\r\n"]}