{"version":3,"sources":["../../../../../../assets/Script/UI/component/assets/Script/UI/component/exchange2.ts"],"names":[],"mappings":";;;;;AAAA,0DAAqD;AACrD,oDAA+C;AAC/C,oDAA+C;AAEzC,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAE1C;IAAsC,4BAAY;IADlD;QAAA,qEAkDC;QAhDG,gBAAU,GAAC,IAAI,CAAC;QAChB,mBAAa,GAAC,IAAI,CAAC;QACnB,eAAS,GAAC,IAAI,CAAC;QACf,wBAAkB,GAAC,IAAI,CAAC;;IA6C5B,CAAC;IA3CG,yBAAM,GAAN;QACI,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAED,2BAAQ,GAAR;QACI,IAAI,CAAC,UAAU,GAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;QACtD,IAAI,CAAC,aAAa,GAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;QAC5D,IAAI,CAAC,SAAS,GAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC;QAC3D,IAAI,CAAC,kBAAkB,GAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;QAEhE,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAC,GAAG,GAAC,CAAC,iBAAO,CAAC,SAAS,GAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QACpF,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACnC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IAC1C,CAAC;IAED,+BAAY,GAAZ,UAAa,GAAG;QAAhB,iBAUC;QATG,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAC,UAAC,CAAC;YACjC,IAAG,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE,IAAE,WAAW,EAAC;gBAC/B,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;gBACpB,sBAAY,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;aAC1D;iBAAK,IAAG,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE,IAAE,cAAc,EAAC;gBACxC,sBAAY,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC;gBACzD,KAAI,CAAC,eAAe,CAAC,KAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC;aACjF;QACL,CAAC,CAAC,CAAA;IACN,CAAC;IAED,6BAAU,GAAV,UAAW,GAAG;QACV,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC;YAAE,OAAO,SAAS,CAAC;IACjD,CAAC;IAGD,kCAAe,GAAf,UAAgB,WAAW;QACvB,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;QACvC,IAAI,GAAG,EAAE;YACL,iBAAO,CAAC,WAAW,EAAE,CAAC,OAAO,EAAE,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;YACvD,OAAO;SACV;QAED,iBAAO,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;IACpC,CAAC;IA9CgB,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAiD5B;IAAD,eAAC;CAjDD,AAiDC,CAjDqC,EAAE,CAAC,SAAS,GAiDjD;kBAjDoB,QAAQ","file":"","sourceRoot":"../../../../../../assets/Script/UI/component","sourcesContent":["import AudioManager from \"../../Common/AudioManager\";\nimport GameCtr from \"../../Controller/GameCtr\";\nimport HttpCtr from \"../../Controller/HttpCtr\";\n\nconst {ccclass, property} = cc._decorator;\n@ccclass\nexport default class NewClass extends cc.Component {\n    _btn_close=null;\n    _btn_exchange=null;\n    _lb_money=null;\n    _editeBox_phoneNum=null;\n\n    onLoad(){\n        this.initNode();\n    }\n\n    initNode(){\n        this._btn_close=this.node.getChildByName(\"btn_close\");\n        this._btn_exchange=this.node.getChildByName(\"btn_exchange\");\n        this._lb_money=this.node.getChildByName(\"lb_surplusMoney\");\n        this._editeBox_phoneNum=this.node.getChildByName(\"phoneNumber\");\n\n        this._lb_money.getComponent(cc.Label).string=\"￥\"+(GameCtr.realMoney/100).toFixed(2);\n        this.initBtnEvent(this._btn_close);\n        this.initBtnEvent(this._btn_exchange);\n    }\n\n    initBtnEvent(btn){\n        btn.on(cc.Node.EventType.TOUCH_END,(e)=>{\n            if(e.target.getName()==\"btn_close\"){\n                this.node.destroy();\n                AudioManager.getInstance().playSound(\"audio/btnClose\");\n            }else if(e.target.getName()==\"btn_exchange\"){\n                AudioManager.getInstance().playSound(\"audio/open_panel\");\n                this.requestExchange(this._editeBox_phoneNum.getComponent(cc.EditBox).string);\n            }\n        })\n    }\n\n    isPhoneNum(num) {\n        if (!/^\\d{11}$/i.test(num)) return \"电话号码不合法\";\n    }\n\n\n    requestExchange(phoneNumber){\n        let err = this.isPhoneNum(phoneNumber);\n        if (err) {\n            GameCtr.getInstance().getGame().showToast(\"你的电话号码不合法\");\n            return;\n        }\n\n        HttpCtr.doExchange(phoneNumber);\n    }\n\n\n}\n"]}