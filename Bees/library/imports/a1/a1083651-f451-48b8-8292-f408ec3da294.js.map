{"version":3,"sources":["../../../../../../assets/Script/UI/component/assets/Script/UI/component/inviteFriendItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../../assets/Script/UI/component","sourcesContent":["import AudioManager from \"../../Common/AudioManager\";\nimport HttpCtr from \"../../Controller/HttpCtr\";\nimport GameCtr from \"../../Controller/GameCtr\";\nimport WXCtr from \"../../Controller/WXCtr\";\nimport Util from \"../../Common/Util\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n    _btn_get=null;\n    _lb_name=null;\n    _lb_count=null;\n    _head=null;\n\n    _name=null;\n    _url=null;\n  \n\n    @property(cc.Prefab)\n    getRedPackage:cc.Prefab=null;\n\n    onLoad(){\n        this.initNode();\n    }\n\n    initNode(){\n        this._btn_get=this.node.getChildByName(\"btn_get\");\n        this._lb_name=this.node.getChildByName(\"lb_name\");\n        this._lb_count=this.node.getChildByName(\"lb_count\");\n        this._head=this.node.getChildByName(\"head\");\n        \n        this.initBtnEvent(this._btn_get);\n\n        this._btn_get.active=false;\n    }\n\n    initBtnEvent(btn){\n        btn.on(cc.Node.EventType.TOUCH_END,(e)=>{\n            if(e.target.getName()==\"btn_get\"){\n                HttpCtr.getCash(this.showRedPackage.bind(this));\n            }else if(e.target.getName()==\"head\"){\n                WXCtr.share({invite:true,callback:()=>{\n                    console.log(\"log----------------邀请好友---------\");\n                }})\n            }\n            AudioManager.getInstance().playSound(\"audio/open_panel\");\n        })\n    }\n\n    initHeadEvent(){\n        this.initBtnEvent(this._head);\n    }\n\n    disableBtn(){\n        this._btn_get.active=true;\n        this._btn_get.getComponent(cc.Button).interactable=false;\n        let icon_get=this.node.getChildByName(\"icon_get\");\n        icon_get.active=true;\n    }\n\n    showRedPackage(money){\n        if(cc.find(\"Canvas\").getChildByName(\"getRedPackage\")){return}\n        let getPackage=cc.instantiate(this.getRedPackage);\n        getPackage.parent=cc.find(\"Canvas\");\n        getPackage.getComponent(\"getRedPackage\").setValue(money);\n        getPackage.getComponent(\"getRedPackage\").setSurplusMoney();\n        \n        GameCtr.realMoney+=money;\n        GameCtr.getInstance().getGame().setRealMoney();\n        HttpCtr.setFriendBonusState(this.node.tag,10);\n        this.disableBtn();\n    }\n\n    setName(name){\n        if(this._name){return}\n        this._name=name;\n        this._btn_get.active=true;\n        this._lb_name.getComponent(cc.Label).string=Util.cutstr(name,4);\n    }\n\n    setCount(count){\n        this._lb_count.getComponent(cc.Label).string=count;\n    }\n\n    setHeadImg(url){\n        if(this._url){return}\n\n        this._url=url\n        let sp=this._head.getComponent(cc.Sprite);\n        cc.loader.load({\n            url: url,\n            type: 'png'\n        }, (err, texture) => {\n            sp.spriteFrame = new cc.SpriteFrame(texture);\n        });\n    }\n}\n"]}